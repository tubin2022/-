(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb9955b6"],{"35d2":function(t,e,a){},"49ca":function(t,e,a){"use strict";function c(t){localStorage.setItem("token",t)}function r(){return localStorage.getItem("token")}a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return r}))},d98c:function(t,e,a){"use strict";a.r(e);var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-nav-bar",{attrs:{placeholder:"",fixed:"",title:"全部","left-arrow":""},on:{"click-left":t.backClick}}),a("div",{staticClass:"productContent"},[a("div",{staticClass:"left"},[a("van-sidebar",{on:{change:t.onChange},model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.categoryArr,(function(t){return a("van-sidebar-item",{key:t.id,attrs:{title:t.name}})})),1)],1),a("div",{staticClass:"right"},t._l(t.productList,(function(e){return a("van-card",{key:e.id,attrs:{price:e.price,desc:e.description,title:e.name,thumb:e.photo},on:{click:function(a){return t.showProductDetail(e)}}})})),1),a("van-action-sheet",{attrs:{title:"商品详情"},model:{value:t.showActionSheet,callback:function(e){t.showActionSheet=e},expression:"showActionSheet"}},[a("div",{staticClass:"content"},[a("van-row",{attrs:{type:"flex",justify:"center"}},[a("van-col",{attrs:{span:"6"}},[a("van-image",{attrs:{radius:"5",width:"100",height:"100",src:t.clickProduct.photo},on:{click:t.privewImg}})],1)],1),a("van-row",{attrs:{type:"flex",justify:"center"}},[a("van-col",{attrs:{span:"10",offset:"2"}},[a("span",{staticClass:"productName"},[t._v(t._s(t.clickProduct.name)),a("span",{staticClass:"productPrice"},[t._v("￥"+t._s(t.clickProduct.price))])])])],1),a("van-row",{attrs:{type:"flex",justify:"center"}},[a("van-col",{attrs:{span:"24"}},[a("span",{staticClass:"productDesc"},[t._v(t._s(t.clickProduct.description))])])],1)],1)])],1)],1)},r=[],n=a("1da1"),i=(a("96cf"),a("dac6")),o=a("49ca"),s=a("d399"),u=a("28a2"),d={data:function(){return{activeKey:0,categoryArr:[],productList:[],showActionSheet:!1,clickProduct:{}}},created:function(){Object(o["a"])();null?(s["a"].fail("您还没登录"),this.$router.push("/login")):this.getCategory()},methods:{backClick:function(){this.$router.go(-1)},onChange:function(t){this.getProductListByCategory()},getCategory:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,c,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={page:1,pageSize:100},e.next=3,Object(i["a"])("/productCategory/pageQuery",a);case 3:return c=e.sent,t.categoryArr=c.data.data.list,r={page:1,pageSize:30,productCategoryId:t.categoryArr[0].id},e.next=8,Object(i["a"])("/product/pageQuery",r);case 8:n=e.sent,t.productList=n.data.data.list;case 10:case"end":return e.stop()}}),e)})))()},getProductListByCategory:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={page:1,pageSize:30,productCategoryId:t.categoryArr[t.activeKey].id},e.next=3,Object(i["a"])("/product/pageQuery",a);case 3:c=e.sent,t.productList=c.data.data.list;case 5:case"end":return e.stop()}}),e)})))()},showProductDetail:function(t){this.showActionSheet=!0,this.clickProduct=t},privewImg:function(){Object(u["a"])([this.clickProduct.photo])}}},l=d,p=(a("edcb"),a("2877")),f=Object(p["a"])(l,c,r,!1,null,"f12a1988",null);e["default"]=f.exports},edcb:function(t,e,a){"use strict";a("35d2")}}]);
//# sourceMappingURL=chunk-bb9955b6.dd032389.js.map