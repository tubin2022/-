{"version":3,"sources":["webpack:///./src/views/Product/searchProduct.vue?8657","webpack:///src/views/Product/searchProduct.vue","webpack:///./src/views/Product/searchProduct.vue?c27d","webpack:///./src/views/Product/searchProduct.vue","webpack:///./src/views/Product/searchProduct.vue?c9eb"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","searchInfo","on","onClickLeft","scopedSlots","_u","key","fn","proxy","_v","_l","product","id","description","name","price","photo","$event","showProductDetai","productListBySearch","length","_e","style","color","borderColor","padding","model","value","callback","$$v","showActionSheet","expression","clickProduct","privewImg","_s","staticRenderFns","data","otherProductList","methods","$router","go","getProductListBySearchInfo","data1","page","pageSize","getByCheck","productList","getOtherProductList","randomPage","Math","data2","otherProducts","item","ImagePreview","created","$route","query","component"],"mappings":"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","file":"static/js/chunk-44fe2c8c.32f15526.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"searchPage\"},[_c('div',{staticClass:\"nav\"},[_c('van-nav-bar',{attrs:{\"title\":'与' + _vm.searchInfo + '有关',\"left-text\":\"返回\",\"left-arrow\":\"\",\"placeholder\":\"\"},on:{\"click-left\":_vm.onClickLeft},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\",\"size\":\"18\"}})]},proxy:true}])})],1),_c('div',{staticClass:\"searchList\"},[_c('van-list',[_c('van-swipe-cell',{scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{attrs:{\"square\":\"\",\"text\":\"分享\",\"type\":\"info\",\"icon\":\"share-o\",\"block\":\"\",\"size\":\"large\"}}),_c('van-button',{attrs:{\"type\":\"warning\",\"block\":\"\",\"square\":\"\",\"icon\":\"star-o\",\"size\":\"large\"}},[_vm._v(\"收藏\")])]},proxy:true}])},_vm._l((_vm.productListBySearch),function(product){return _c('van-card',{key:product.id,staticClass:\"goods-card\",attrs:{\"desc\":product.description,\"title\":product.name,\"price\":product.price,\"thumb\":product.photo},on:{\"click\":function($event){return _vm.showProductDetai(product)}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"mini\",\"color\":\"#4FC08D\",\"round\":\"\",\"icon\":\"bag-o\"}},[_vm._v(\"购买\")]),_c('van-button',{attrs:{\"size\":\"mini\",\"color\":\"#4FC08D\",\"round\":\"\",\"icon\":\"shopping-cart-o\"}},[_vm._v(\"加入购物车\")])]},proxy:true}],null,true)})}),1)],1),(_vm.productListBySearch.length ==0)?_c('van-empty',{attrs:{\"description\":\"没有找到相似的产品\",\"image-size\":\"100px\"}}):_vm._e()],1),_c('div',{staticClass:\"divide\"},[_c('van-divider',{style:({ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }),attrs:{\"content-position\":\"left\"}},[_vm._v(\" 其它 \")])],1),_c('div',{staticClass:\"other\"},_vm._l((_vm.otherProductList),function(product){return _c('van-card',{key:product.id,attrs:{\"price\":product.price,\"desc\":product.description,\"title\":product.name,\"thumb\":product.photo},on:{\"click\":function($event){return _vm.showProductDetai(product)}},scopedSlots:_vm._u([{key:\"tags\",fn:function(){return [_c('van-tag',{attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"medium\",\"type\":\"danger\",\"text-color\":\"#ad0000\"}},[_vm._v(\"全场低至9.9\")]),_c('van-tag',{attrs:{\"plain\":\"\",\"round\":\"\",\"size\":\"medium\",\"type\":\"danger\",\"text-color\":\"#ad0000\"}},[_vm._v(\"回头客10W+\")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"color\":\"linear-gradient(to right, #02AAB0,#00CDAC)\",\"size\":\"mini\",\"round\":\"\"}},[_vm._v(\" 去看看 \")])]},proxy:true}],null,true)})}),1),_c('van-action-sheet',{attrs:{\"title\":\"商品详情\"},model:{value:(_vm.showActionSheet),callback:function ($$v) {_vm.showActionSheet=$$v},expression:\"showActionSheet\"}},[_c('div',{staticClass:\"content\"},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"6\"}},[_c('van-image',{attrs:{\"radius\":\"5\",\"width\":\"100\",\"height\":\"100\",\"src\":_vm.clickProduct.photo},on:{\"click\":_vm.privewImg}})],1)],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"10\",\"offset\":\"2\"}},[_c('span',{staticClass:\"productName\"},[_vm._v(_vm._s(_vm.clickProduct.name)),_c('span',{staticClass:\"productPrice\"},[_vm._v(\"￥\"+_vm._s(_vm.clickProduct.price))])])])],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"24\"}},[_c('span',{staticClass:\"productDesc\"},[_vm._v(_vm._s(_vm.clickProduct.description))])])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchPage\">\r\n    <!-- 顶部导航 -->\r\n    <div class=\"nav\">\r\n      <van-nav-bar\r\n        :title=\"'与' + searchInfo + '有关'\"\r\n        left-text=\"返回\"\r\n        left-arrow\r\n        @click-left=\"onClickLeft\"\r\n        placeholder\r\n      >\r\n        <template #right>\r\n          <van-icon name=\"search\" size=\"18\" />\r\n        </template>\r\n      </van-nav-bar>\r\n    </div>\r\n    <!-- 列表展示搜索内容 -->\r\n    <div class=\"searchList\">\r\n      <van-list>\r\n        <van-swipe-cell>\r\n          <van-card\r\n            v-for=\"product in productListBySearch\"\r\n            :key=\"product.id\"\r\n            :desc=\"product.description\"\r\n            :title=\"product.name\"\r\n            :price=\"product.price\"\r\n            class=\"goods-card\"\r\n            :thumb=\"product.photo\"\r\n            @click=\"showProductDetai(product)\"\r\n          >\r\n            <template #footer>\r\n              <van-button size=\"mini\" color=\"#4FC08D\" round icon=\"bag-o\"\r\n                >购买</van-button\r\n              >\r\n              <van-button\r\n                size=\"mini\"\r\n                color=\"#4FC08D\"\r\n                round\r\n                icon=\"shopping-cart-o\"\r\n                >加入购物车</van-button\r\n              >\r\n            </template>\r\n          </van-card>\r\n          <template #right>\r\n            <van-button\r\n              square\r\n              text=\"分享\"\r\n              type=\"info\"\r\n              icon=\"share-o\"\r\n              block\r\n              size=\"large\"\r\n            />\r\n            <van-button type=\"warning\" block square icon=\"star-o\" size=\"large\"\r\n              >收藏</van-button\r\n            >\r\n          </template>\r\n        </van-swipe-cell>\r\n      </van-list>\r\n      <!-- 没有对应关键字的产品展示空白面板 -->\r\n      <van-empty description=\"没有找到相似的产品\" v-if=\"productListBySearch.length ==0\" image-size=\"100px\"/>\r\n    </div>\r\n    <!-- 分割线 -->\r\n    <div class=\"divide\">\r\n      <van-divider\r\n        :style=\"{ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }\"\r\n        content-position=\"left\"\r\n      >\r\n        其它\r\n      </van-divider>\r\n    </div>\r\n    <!-- 展示一些其它产品信息 -->\r\n    <div class=\"other\">\r\n      <van-card\r\n        v-for=\"product in otherProductList\"\r\n        :key=\"product.id\"\r\n        :price=\"product.price\"\r\n        :desc=\"product.description\"\r\n        :title=\"product.name\"\r\n        :thumb=\"product.photo\"\r\n        @click=\"showProductDetai(product)\"\r\n      >\r\n        <template #tags>\r\n          <van-tag plain round size=\"medium\" type=\"danger\" text-color=\"#ad0000\"\r\n            >全场低至9.9</van-tag\r\n          >\r\n          <van-tag plain round size=\"medium\" type=\"danger\" text-color=\"#ad0000\"\r\n            >回头客10W+</van-tag\r\n          >\r\n        </template>\r\n        <template #footer>\r\n          <van-button\r\n            color=\"linear-gradient(to right, #02AAB0,#00CDAC)\"\r\n            size=\"mini\"\r\n            round\r\n          >\r\n            去看看\r\n          </van-button>\r\n        </template>\r\n      </van-card>\r\n    </div>\r\n    <!-- 点击每个商品,展示动作面板,展示商品详情 -->\r\n      <van-action-sheet v-model=\"showActionSheet\" title=\"商品详情\">\r\n        <div class=\"content\">\r\n          <!-- 商品图片 -->\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"6\">\r\n              <van-image\r\n                radius=\"5\"\r\n                width=\"100\"\r\n                height=\"100\"\r\n                :src=\"clickProduct.photo\"\r\n                @click=\"privewImg\"\r\n              />\r\n            </van-col>\r\n          </van-row>\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"10\" offset=\"2\">\r\n              <span class=\"productName\">{{clickProduct.name}}<span class=\"productPrice\">￥{{clickProduct.price}}</span></span>\r\n            </van-col>\r\n          </van-row>\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"24\"><span class=\"productDesc\">{{clickProduct.description}}</span></van-col>\r\n          </van-row>\r\n        </div>\r\n      </van-action-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getByCheck } from '@/http/axios';\r\nimport { ImagePreview } from 'vant';\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 用户输入的查询信息\r\n      searchInfo: \"\",\r\n      // 对应查询信息查询的结果\r\n      productListBySearch:[],\r\n      // 其它产品信息,用于推荐给用户\r\n      otherProductList:[],\r\n       // 控制商品详情动作面板\r\n      showActionSheet: false,\r\n      // 点击的商品对象\r\n      clickProduct: {}\r\n    };\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1);\r\n    },\r\n    // 查询上一个页面用户查询的产品信息\r\n    async getProductListBySearchInfo(){\r\n      let data1 = {\r\n        page:1,\r\n        pageSize:8,\r\n        name:this.searchInfo\r\n      }\r\n      let productList = await getByCheck('/product/pageQuery',data1);\r\n      if(typeof(productList) != \"undefined\"){\r\n        this.productListBySearch = productList.data.data.list;\r\n      }  \r\n    },\r\n    // 查询一些其它产品的信息,推荐给用户\r\n    async getOtherProductList(){\r\n      let randomPage = Math.floor(Math.random()*20);\r\n      let data2 = {\r\n        page:randomPage,\r\n        pageSize:4\r\n      }\r\n      let otherProducts = await getByCheck('/product/pageQuery',data2);\r\n      if(typeof(otherProducts) != \"undefined\"){\r\n         this.otherProductList = otherProducts.data.data.list;\r\n      }\r\n    },\r\n    // 点击每个商品,展示详情\r\n    showProductDetai(item) {\r\n      this.showActionSheet = true;\r\n      this.clickProduct = item;\r\n    },\r\n    // 预览商品详情中的图片\r\n    privewImg(){\r\n      ImagePreview([this.clickProduct.photo]);\r\n    }\r\n  },\r\n  // 生命周期钩子函数\r\n  created() {\r\n    // 将路由传过来的搜索信息存到本地\r\n    this.searchInfo = this.$route.query.searchInfo;\r\n    // 页面创建时,自动查询用户搜索的对应产品信息\r\n    this.getProductListBySearchInfo();\r\n    // 页面创建时,自动推荐其它产品信息给用户\r\n    this.getOtherProductList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 商品名称样式 */\r\n.productName{\r\n  font-weight: bolder;\r\n  font-size: 18px;\r\n}\r\n/* 商品价格样式 */\r\n.productPrice{\r\n  color: red;\r\n  font-size: 8px;\r\n}\r\n/* 商品描述样式 */\r\n.productDesc{\r\n  font-style: italic;\r\n  font-size: 8px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./searchProduct.vue?vue&type=template&id=891bb0f4&scoped=true&\"\nimport script from \"./searchProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./searchProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./searchProduct.vue?vue&type=style&index=0&id=891bb0f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"891bb0f4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./searchProduct.vue?vue&type=style&index=0&id=891bb0f4&scoped=true&lang=css&\""],"sourceRoot":""}