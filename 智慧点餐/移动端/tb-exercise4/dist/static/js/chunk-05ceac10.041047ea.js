(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05ceac10"],{"49ca":function(e,t,r){"use strict";function a(e){localStorage.setItem("token",e)}function n(){return localStorage.getItem("token")}r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n}))},a2cd:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order"},[r("div",{staticClass:"placehoder"},[r("van-nav-bar",{attrs:{title:"我的订单"}})],1),r("div",{staticClass:"nav"},[r("van-tabs",{attrs:{sticky:""},on:{change:e.getOrderByStatus},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("van-tab",{attrs:{title:"全部"}},e._l(e.allOrder,(function(t,a){return r("van-collapse",{key:a,model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("van-collapse-item",{attrs:{name:t.id,size:"large"},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",[r("van-image",{attrs:{width:"80",height:"80",src:t.orderLines[0].product.photo,radius:"5"}}),r("van-tag",{attrs:{color:"red",size:"large"}},[e._v("￥"+e._s(t.total))])],1)]},proxy:!0},{key:"value",fn:function(){return[r("div",[r("van-tag",{attrs:{color:"orange",size:"large"}},[e._v(e._s(t.status)+"x"+e._s(t.orderLines.length))]),r("van-cell",{attrs:{value:e._f("fmtDate_global")(t.orderTime),size:"large"}})],1)]},proxy:!0}],null,!0)},e._l(t.orderLines,(function(e){return r("van-card",{key:e.id,attrs:{num:e.num,price:e.product.price,desc:e.product.description,title:e.name,thumb:e.product.photo}})})),1)],1)})),1),r("van-tab",{attrs:{title:"派送中"}},e._l(e.DeliveryOrder,(function(t,a){return r("van-collapse",{key:a,model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("van-collapse-item",{attrs:{name:t.id,size:"large"},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",[r("van-image",{attrs:{width:"80",height:"80",src:t.orderLines[0].product.photo,radius:"5"}}),r("van-tag",{attrs:{color:"red",size:"large"}},[e._v("￥"+e._s(t.total))])],1)]},proxy:!0},{key:"value",fn:function(){return[r("div",[r("van-tag",{attrs:{color:"orange",size:"large"}},[e._v(e._s(t.status)+"x"+e._s(t.orderLines.length))]),r("van-cell",{attrs:{value:e._f("fmtDate_global")(t.orderTime),size:"large"}})],1)]},proxy:!0}],null,!0)},e._l(t.orderLines,(function(e){return r("van-card",{key:e.id,attrs:{num:e.num,price:e.product.price,desc:e.product.description,title:e.name,thumb:e.product.photo}})})),1)],1)})),1),r("van-tab",{attrs:{title:"待评价"}},e._l(e.appraiseOrder,(function(t,a){return r("van-collapse",{key:a,model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[r("van-collapse-item",{attrs:{name:t.id,size:"large"},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",[r("van-image",{attrs:{width:"80",height:"80",src:t.orderLines[0].product.photo,radius:"5"}}),r("van-tag",{attrs:{color:"red",size:"large"}},[e._v("￥"+e._s(t.total))])],1)]},proxy:!0},{key:"value",fn:function(){return[r("div",[r("van-tag",{attrs:{color:"orange",size:"large"}},[e._v(e._s(t.status)+"x"+e._s(t.orderLines.length))]),r("van-cell",{attrs:{value:e._f("fmtDate_global")(t.orderTime),size:"large"}})],1)]},proxy:!0}],null,!0)},e._l(t.orderLines,(function(e){return r("van-card",{key:e.id,attrs:{num:e.num,price:e.product.price,desc:e.product.description,title:e.name,thumb:e.product.photo}})})),1)],1)})),1),r("van-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[r("van-icon",{attrs:{name:"cart-circle-o",size:"15"}},[e._v("待支付")])]},proxy:!0}])}),r("van-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[r("van-icon",{attrs:{name:"search",size:"25"}})]},proxy:!0}])},[r("van-field",{attrs:{center:"",clearable:"",placeholder:"请输入六个月内的订单记录"},scopedSlots:e._u([{key:"button",fn:function(){return[r("van-button",{attrs:{size:"small",type:"primary"},on:{click:e.searchOrder}},[e._v("查询")])]},proxy:!0}]),model:{value:e.searchInfo,callback:function(t){e.searchInfo=t},expression:"searchInfo"}}),r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"searchContext"},[r("van-empty",{attrs:{image:"search",description:"没有找到相关订单信息"}})],1)],1)],1)],1)])},n=[],s=r("1da1"),i=(r("96cf"),r("49ca")),o=r("dac6"),c={data:function(){return{active:0,searchInfo:"",activeNames:["1"],user:{},allOrder:[],DeliveryOrder:[],appraiseOrder:[],show:!1}},methods:{getAllOrders:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(i["a"])(),a={token:r},t.next=4,Object(o["b"])("/user/info",a);case 4:if(n=t.sent,"undefined"==typeof n){t.next=12;break}return e.user=n.data.data,s={page:1,pageSize:200,customerId:n.data.data.id},t.next=10,Object(o["a"])("/order/pageQuery",s);case 10:c=t.sent,e.allOrder=c.data.data.list;case 12:case"end":return t.stop()}}),t)})))()},getOrdersByDelivery:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={page:1,pageSize:200,status:"待派送",customerId:e.id},r.next=3,Object(o["a"])("/order/pageQuery",a);case 3:n=r.sent,t.DeliveryOrder=n.data.data.list;case 5:case"end":return r.stop()}}),r)})))()},getOrdersByAppraise:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={page:1,pageSize:200,status:"已完成",customerId:e.id},r.next=3,Object(o["a"])("/order/pageQuery",a);case 3:n=r.sent,t.appraiseOrder=n.data.data.list;case 5:case"end":return r.stop()}}),r)})))()},getOrderByStatus:function(e){var t=this.user;1==e&&this.getOrdersByDelivery(t),2==e&&this.getOrdersByAppraise(t),3==e&&this.$router.push("/manage/shoppingCart")},searchOrder:function(){""!=this.searchInfo&&(this.show=!0)}},created:function(){this.getAllOrders()}},u=c,l=r("2877"),d=Object(l["a"])(u,a,n,!1,null,"378fda58",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-05ceac10.041047ea.js.map