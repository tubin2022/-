{"version":3,"sources":["webpack:///./src/http/tokenUtils.js","webpack:///./src/views/Product/productList.vue?b9b3","webpack:///src/views/Product/productList.vue","webpack:///./src/views/Product/productList.vue?ea0c","webpack:///./src/views/Product/productList.vue","webpack:///./src/views/Product/productList.vue?215e"],"names":["setToken","token","localStorage","setItem","getToken","getItem","render","_vm","this","_h","$createElement","_c","_self","attrs","on","backClick","staticClass","onChange","model","value","callback","$$v","activeKey","expression","_l","category","key","id","name","product","price","description","photo","$event","showProductDetail","showActionSheet","clickProduct","privewImg","_v","_s","staticRenderFns","data","categoryArr","productList","created","Toast","methods","$router","go","index","getProductListByCategory","getCategory","params","page","pageSize","get","res","params2","productCategoryId","res2","item","ImagePreview","component"],"mappings":"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","file":"static/js/chunk-bb9955b6.dd032389.js","sourcesContent":["//存储token\nexport function setToken(token) {\n  localStorage.setItem('token', token)\n}\n// 获取token\nexport function getToken() {\n  return localStorage.getItem('token')\n}\n// 删除token\nexport function delToken() {\n  localStorage.removeItem('token')\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"placeholder\":\"\",\"fixed\":\"\",\"title\":\"全部\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.backClick}}),_c('div',{staticClass:\"productContent\"},[_c('div',{staticClass:\"left\"},[_c('van-sidebar',{on:{\"change\":_vm.onChange},model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((_vm.categoryArr),function(category){return _c('van-sidebar-item',{key:category.id,attrs:{\"title\":category.name}})}),1)],1),_c('div',{staticClass:\"right\"},_vm._l((_vm.productList),function(product){return _c('van-card',{key:product.id,attrs:{\"price\":product.price,\"desc\":product.description,\"title\":product.name,\"thumb\":product.photo},on:{\"click\":function($event){return _vm.showProductDetail(product)}}})}),1),_c('van-action-sheet',{attrs:{\"title\":\"商品详情\"},model:{value:(_vm.showActionSheet),callback:function ($$v) {_vm.showActionSheet=$$v},expression:\"showActionSheet\"}},[_c('div',{staticClass:\"content\"},[_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"6\"}},[_c('van-image',{attrs:{\"radius\":\"5\",\"width\":\"100\",\"height\":\"100\",\"src\":_vm.clickProduct.photo},on:{\"click\":_vm.privewImg}})],1)],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"10\",\"offset\":\"2\"}},[_c('span',{staticClass:\"productName\"},[_vm._v(_vm._s(_vm.clickProduct.name)),_c('span',{staticClass:\"productPrice\"},[_vm._v(\"￥\"+_vm._s(_vm.clickProduct.price))])])])],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('van-col',{attrs:{\"span\":\"24\"}},[_c('span',{staticClass:\"productDesc\"},[_vm._v(_vm._s(_vm.clickProduct.description))])])],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 顶部导航栏 -->\r\n  <div>\r\n    <van-nav-bar\r\n      placeholder\r\n      fixed\r\n      title=\"全部\"\r\n      left-arrow\r\n      @click-left=\"backClick\"\r\n    />\r\n    <!-- 商品列表 -->\r\n    <div class=\"productContent\">\r\n      <!-- 左部 -->\r\n      <div class=\"left\">\r\n        <van-sidebar v-model=\"activeKey\" @change=\"onChange\">\r\n          <van-sidebar-item :title=\"category.name\"  v-for=\"category in categoryArr\" :key=\"category.id\"/>\r\n        </van-sidebar>\r\n      </div>\r\n      <!-- 右部 -->\r\n      <div class=\"right\">\r\n        <van-card\r\n          v-for=\"product in productList\"\r\n          :key=\"product.id\"\r\n          :price=\"product.price\"\r\n          :desc=\"product.description\"\r\n          :title=\"product.name\"\r\n          :thumb=\"product.photo\"\r\n          @click=\"showProductDetail(product)\"\r\n        />\r\n      </div>\r\n      <!-- 点击每个商品,展示详情 -->\r\n      <van-action-sheet v-model=\"showActionSheet\" title=\"商品详情\">\r\n        <div class=\"content\">\r\n          <!-- 商品图片 -->\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"6\">\r\n              <van-image\r\n                radius=\"5\"\r\n                width=\"100\"\r\n                height=\"100\"\r\n                :src=\"clickProduct.photo\"\r\n                @click=\"privewImg\"\r\n              />\r\n            </van-col>\r\n          </van-row>\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"10\" offset=\"2\">\r\n              <span class=\"productName\">{{clickProduct.name}}<span class=\"productPrice\">￥{{clickProduct.price}}</span></span>\r\n            </van-col>\r\n          </van-row>\r\n          <van-row type=\"flex\" justify=\"center\">\r\n            <van-col span=\"24\"><span class=\"productDesc\">{{clickProduct.description}}</span></van-col>\r\n          </van-row>\r\n        </div>\r\n      </van-action-sheet>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { get } from '@/http/axios';\r\nimport { getToken } from '@/http/tokenUtils';\r\nimport { Toast } from 'vant';\r\nimport { ImagePreview } from 'vant';\r\nexport default {\r\n  data() {\r\n    return {\r\n      activeKey: 0,\r\n      categoryArr:[],\r\n      productList:[],\r\n      // 控制商品详情动作面板\r\n      showActionSheet: false,\r\n      // 点击的商品对象\r\n      clickProduct: {},\r\n    };\r\n  },\r\n  //生命周期钩子函数,当页面创建时会自动执行\r\n  created() {\r\n    //   进入页面,判断是否登录\r\n    let token = getToken();\r\n    if(token = null){\r\n        Toast.fail('您还没登录');\r\n        this.$router.push('/login');\r\n    }else{\r\n        // 自动加载左侧所有标签,和第一个标签下的产品\r\n        this.getCategory();\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //顶部返回按钮\r\n    backClick() {\r\n      this.$router.go(-1);\r\n    },\r\n    //左侧商品导航栏发生改变触发事件\r\n    onChange(index) {\r\n      this.getProductListByCategory();\r\n    },\r\n    // 获取产品分类信息(左部侧边栏)\r\n    async getCategory(){\r\n        let params ={\r\n            page:1,\r\n            pageSize:100\r\n        }\r\n        let res = await get('/productCategory/pageQuery',params);\r\n        this.categoryArr = res.data.data.list;\r\n        // 还要加载第一个标签的产品\r\n        let params2 ={\r\n            page:1,\r\n            pageSize:30,\r\n            productCategoryId:this.categoryArr[0].id\r\n        }\r\n        let res2 = await get('/product/pageQuery',params2);\r\n        this.productList = res2.data.data.list;\r\n    },\r\n    // 加载左部对应标签的产品\r\n    async getProductListByCategory(){\r\n        let params ={\r\n            page:1,\r\n            pageSize:30,\r\n            productCategoryId:this.categoryArr[this.activeKey].id\r\n        }\r\n        let res = await get('/product/pageQuery',params);\r\n        this.productList = res.data.data.list;\r\n    },\r\n    // 点击每个商品,展示详情\r\n    showProductDetail(item){\r\n      this.showActionSheet = true;\r\n      this.clickProduct = item;\r\n    },\r\n    // 预览商品详情中的图片\r\n    privewImg(){\r\n      ImagePreview([this.clickProduct.photo]);\r\n    }\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.productContent {\r\n  display: flex;\r\n  height: calc(100vh - 100px);\r\n}\r\n.productContent .left {\r\n  width: 20%;\r\n  resize: horizontal;\r\n  overflow: auto;\r\n}\r\n.productContent .right {\r\n  width: 80%;\r\n  overflow-y: auto;\r\n}\r\n/* 商品名称样式 */\r\n.productName{\r\n  font-weight: bolder;\r\n  font-size: 18px;\r\n}\r\n/* 商品价格样式 */\r\n.productPrice{\r\n  color: red;\r\n  font-size: 8px;\r\n}\r\n/* 商品描述样式 */\r\n.productDesc{\r\n  font-style: italic;\r\n  font-size: 8px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./productList.vue?vue&type=template&id=f12a1988&scoped=true&\"\nimport script from \"./productList.vue?vue&type=script&lang=js&\"\nexport * from \"./productList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./productList.vue?vue&type=style&index=0&id=f12a1988&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f12a1988\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./productList.vue?vue&type=style&index=0&id=f12a1988&scoped=true&lang=css&\""],"sourceRoot":""}