<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的主页</title>
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../css/ordinary.css">
</head>

<body>
    <div class="index ">
        <!-- 顶部导航条 -->
        <div class="head">
            <nav class="navbar navbar-inverse">
                <div class="container-fluid">
                    <p class="navbar-text">图书馆管理系统</p>
                    <p class="navbar-text navbar-right">欢迎您,<a href="./myInfo.html" class="navbar-link"
                            id="username"></a>
                        <a class="navbar-link" id="logout">[退出]</a>
                    </p>
                </div>
            </nav>
        </div>
        <!-- 功能区 -->
        <div class="operation">
            <!-- 左部选择栏 -->
            <div class="left" style="background-color: rgb(247, 243, 243);">
                <div class="list-group">
                    <div class="showbook">
                        <a href="#" class="list-group-item active" id="book">书籍<span
                                class="glyphicon glyphicon-menu-right"></span></a>
                        <a href="#" class="list-group-item" id="category">书籍类别<span
                                class="glyphicon glyphicon-menu-right"></span></a>
                    </div>
                    <div class="bookmanage" id="Isshow">
                        <a href="#" class="list-group-item">我的图书管理<span
                                class="glyphicon glyphicon-menu-down"></span></a>
                    </div>
                    <div class="manageList" hidden>
                        <a href="#" class="list-group-item" id="borrow">借书信息<span
                                class="glyphicon glyphicon-menu-right"></span></a>
                        <a href="#" class="list-group-item" id="return">归还记录<span
                                class="glyphicon glyphicon-menu-right"></span></a>
                    </div>
                    <div class="myinfo">
                        <a href="#" class="list-group-item">我的信息管理<span
                                class="glyphicon glyphicon-menu-right"></span></a>
                    </div>
                </div>
            </div>
            <!-- 右边展示栏 -->
            <div class="right">
                <!-- 展示图书面板 -->
                <div class="selectBook">
                    <!-- 搜索栏 -->
                    <div class="row">
                        <div class="col-lg-6 col-md-offset-1">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="请输入相关信息">
                                <span class="input-group-btn">
                                    <button class="btn btn-primary" type="button">搜索</button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <!-- 占位块 -->
                    <div style="height: 20px;"></div>
                    <!-- 表格展示栏 -->
                    <div class="tableshow" style="width: 90%;text-align: center;margin-left: 35px;">
                        <table class="table table-striped table-hover" id="Allbook">
                            <thead>
                                <tr>
                                    <td>书籍ID</td>
                                    <td>书籍名称</td>
                                    <td>作者</td>
                                    <td>书籍图片</td>
                                    <td>书籍类别</td>
                                    <td>总库存</td>
                                    <td>现存</td>
                                    <td>借阅</td>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                    <!-- 分页标签 -->
                    <div class="limit" style="margin-left: 110px;">
                        <nav aria-label="...">
                            <ul class="pagination">

                            </ul>
                        </nav>
                    </div>
                </div>

                <!-- 借阅书籍确认模态框 -->
                <div class="modal fade" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- 模态框头部 -->
                            <div class="modal-header">
                                <input type="hidden" id="bookid" value="">
                            </div>
                            <!-- 模态框主体 -->
                            <div class="modal-body">
                                是否要借阅本书
                            </div>
                            <!-- 模态框底部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary" id="borrow">确认</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 操作是否成功提示模态框 -->
                <div class="modal fade" id="myModal2">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- 模态框主体 -->
                            <div class="modal-body">

                            </div>
                            <!-- 模态框底部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- 展示借书信息面板 -->
                <div class="selectBorrow" hidden>
                    <div class="topTip" style="margin-left: 50px;">
                        <div class="page-header">
                            <h1>图书馆管理系统<small>我的借书记录</small></h1>
                        </div>
                    </div>
                    <div class="showBorrow" style="width: 90%;text-align: center;margin-left: 35px;">
                        <table class="table table-striped table-hover" id="allBorrow">
                            <thead>
                                <tr>
                                    <td>借阅人</td>
                                    <td>书籍名称</td>
                                    <td>作者</td>
                                    <td>书籍图片</td>
                                    <td>书籍类别</td>
                                    <td>借阅时间</td>
                                    <td>归还</td>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 点击归还弹出模态框 -->
                <div class="modal fade" id="returnModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- 模态框头部 -->
                            <div class="modal-header">
                                <input type="hidden" id="returnid" value="">
                            </div>
                            <!-- 模态框主体 -->
                            <div class="modal-body">
                                您确认归还本书吗？
                            </div>
                            <!-- 模态框底部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary" id="identify">确认</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 展示归还记录面板 -->
                <div class="selectReturn" hidden>
                    <div class="topTip" style="margin-left: 50px;">
                        <div class="page-header">
                            <h1>图书馆管理系统<small>我的归还记录</small></h1>
                        </div>
                    </div>
                    <div class="showReturn" style="width: 90%;text-align: center;margin-left: 35px;">
                        <table class="table table-striped table-hover" id="allReturn">
                            <thead>
                                <tr>
                                    <td>借阅人</td>
                                    <td>书籍名称</td>
                                    <td>作者</td>
                                    <td>书籍图片</td>
                                    <td>书籍类别</td>
                                    <td>借阅时间</td>
                                    <td>归还时间</td>
                                    <td>状态</td>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 展示我的信息面板 -->
                <div class="selectMyInfo" hidden>
                    <div class="topTip" style="margin-left: 50px;">
                        <div class="page-header">
                            <h1>图书馆管理系统<small>个人信息管理</small></h1>
                        </div>
                    </div>
                    <table style="height:300px; margin-left: 350px;margin-top: 50px;" id="myInfo">
                        <tr>
                            <td>
                                <img src="../img/login.jpeg" class="img-circle" style="width:200px;height:200px"><br>

                            </td>
                            <td>
                                <ul style="list-style:none;font-size: 15px;">
                                </ul>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:center;">
                                <label><input id="uploadface" type="file" style="display: none;"
                                        accept="image/*">更换头像</label>
                            </td>
                            <td style="text-align:center;">
                                <button id="edit">编辑资料</button>
                                <button id="btnEditPwd">修改密码</button>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- 点击编辑资料弹出编辑模态框 -->
                <div class="modal fade" id="editInfo">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- 模态框头部 -->
                            <div class="modal-header">
                                <h3>编辑资料</h3>
                            </div>
                            <!-- 模态框主体 -->
                            <div class="modal-body" style="text-align: center;">
                                <label>输入新用户名:<input type="text" id="newName"></label><br>
                                <label>输入新手机:<input type="tel" id="newPhone"></label>
                            </div>
                            <!-- 模态框底部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary" id="confirmInfo">确认</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 点击修改密码弹出模态框 -->
                <div class="modal fade" id="editPwd">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <!-- 模态框头部 -->
                            <div class="modal-header">
                                <h3>修改密码</h3>
                            </div>
                            <!-- 模态框主体 -->
                            <div class="modal-body" style="text-align: center;">
                                <label>输入新密码:<input type="password" id="newPwd"></label>
                            </div>
                            <!-- 模态框底部 -->
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                <button type="button" class="btn btn-primary" id="confirmPwd">确认</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    // 页面加载时事件，判断是否登录，没有重定向到login页面中
    $(document).ready(function () {
        //检查是否登录
        $.post('../servlet/checkLogin.php',
            function (data, status) {
                var result = JSON.parse(data);
                if (result.uname == '') {
                    window.location.replace('./login');
                } else {
                    $("#username").text(result.uname);
                }
            }
        )
        //初次进入页面，加载分页标签的个数和第一页书籍
        loadLimitList(1);
    })

    //退出登录事件
    $("#logout").click(function () {
        $.get('../servlet/logout.php',
            function (data, status) {
                if (status == 'success') {
                    window.location.replace('./login');
                }
            }
        )
    })

    //点击我的图书管理事件
    $("#Isshow").click(function () {
        $(".manageList").toggle();
    })

    //点击书籍
    $("#book").click(function () {
        $("a.list-group-item").removeClass("active");
        $(this).addClass("active");
        $(".selectBook").show();
        $(".selectCategory").hide();
        $(".selectBorrow").hide();
        $(".selectReturn").hide();
        $(".selectMyInfo").hide();
        //点击书籍，加载第一页
        loadLimitList(1);
    })
    //加载分页标签数量和第一页书籍
    function loadLimitList(page) {
        $.get('../servlet/bookServlet.php',
            {
                page: (page - 1) * 4
            },
            function (data, status) {
                if (data != undefined) {
                    var result = JSON.parse(data);
                    //根据总记录加载分页页数
                    $("ul.pagination").empty();
                    $("ul.pagination").append("<li><a aria-label='Previous'><spanaria-hidden='true'>&laquo;</span></a></li>")
                    for (var i = 1; i <= Math.ceil(result[0].total / 4); i++) {
                        var newLi = $('<li><a>' + i + '</a></li>');
                        $("ul.pagination").append(newLi);
                    }
                    $("ul.pagination").append("<li><a aria-label='next'><span aria-hidden='true'>&raquo;</span></a></li>");
                    $("ul.pagination li:first").next().addClass("active");
                    //点击分页触发事件
                    $("ul.pagination li").click(function () {
                        //选中的新一页
                        var newpage = $(this).text();
                        //当前是第几页
                        var nowpage = $("ul.pagination li.active").text();
                        //选中的li是第几个
                        var index = $(this).index();
                        //总共li的数目
                        var liTotal = (Math.ceil(result[0].total / 4) + 1);
                        if (index == 0) {
                            //上一页
                            if ($("ul.pagination li.active").index() == 1) {
                                //已经是第一页啥也不干
                            } else {
                                $("ul.pagination li.active").prev().addClass("active");
                                $("ul.pagination li.active:last").removeClass("active");
                                pageSearch(nowpage - 1);
                            }
                        } else if (index == liTotal) {
                            //下一页
                            if ($("ul.pagination li.active").index() == (liTotal - 1)) {
                                //已经是最后一页啥也不干
                            } else {
                                $("ul.pagination li.active").next().addClass("active");
                                $("ul.pagination li.active:first").removeClass("active");
                                pageSearch(parseInt(nowpage) + 1);
                            }
                        } else {
                            $("ul.pagination li").removeClass("active");
                            $(this).addClass("active");
                            pageSearch(newpage);
                        }
                    })

                    //将书籍信息渲染到页面上
                    $("#Allbook tbody").empty();
                    for (var i = 0; i < result[1].length; i++) {
                        var $bid = $('<td>' + result[1][i].bid + '</td>');
                        var $name = $('<td>' + result[1][i].bname + '</td>');
                        var $author = $('<td>' + result[1][i].author + '</td>');
                        var $photo = $("<td><img src='" + result[1][i].photo + "' style='width:100px;height:120px;'></td>");
                        var $cname = $('<td>' + result[1][i].cname + '</td>');
                        var $total = $('<td>' + result[1][i].total + '</td>');
                        var $existing = $('<td>' + result[1][i].existing + '</td>');
                        var $borrow = $("<td value='" + result[1][i].bid + "'><button type='button' class='btn btn-success'>借阅</button></td>");
                        var $tr = $('<tr></tr>');
                        $tr.append($bid, $name, $author, $photo, $cname, $total, $existing, $borrow);
                        $("#Allbook tbody").append($tr);
                        $('td').css('vertical-align', 'middle');
                    }
                    //点击借阅按钮
                    $("button.btn-success").click(function () {
                        var bookid = $(this).parent().attr('value');
                        $("#myModal #bookid").val(bookid);
                        $("#myModal").modal('show');
                    })
                }
            }
        )
    }

    //分页标签事件
    function pageSearch(page) {
        $.get('../servlet/bookServlet.php',
            {
                page: (page - 1) * 4
            },
            function (data, status) {
                if (data != undefined) {
                    //将书籍信息渲染到页面上
                    var result = JSON.parse(data);
                    $("#Allbook tbody").empty();
                    for (var i = 0; i < result[1].length; i++) {
                        var $bid = $('<td>' + result[1][i].bid + '</td>');
                        var $name = $('<td>' + result[1][i].bname + '</td>');
                        var $author = $('<td>' + result[1][i].author + '</td>');
                        var $photo = $("<td><img src='" + result[1][i].photo + "' style='width:100px;height:120px;'></td>");
                        var $cname = $('<td>' + result[1][i].cname + '</td>');
                        var $total = $('<td>' + result[1][i].total + '</td>');
                        var $existing = $('<td>' + result[1][i].existing + '</td>');
                        var $borrow = $("<td value='" + result[1][i].bid + "'><button type='button' class='btn btn-success'>借阅</button></td>")
                        var $tr = $('<tr></tr>');
                        $tr.append($bid, $name, $author, $photo, $cname, $total, $existing, $borrow);
                        $("#Allbook tbody").append($tr);
                        $('td').css('vertical-align', 'middle');
                    }
                    //点击借阅按钮
                    $("button.btn-success").click(function () {
                        var bookid = $(this).parent().attr('value');
                        $("#myModal #bookid").val(bookid);
                        $("#myModal").modal('show');
                    })
                }
            }
        )
    }

    //点击确认借阅, 发送ajax请求
    $("#myModal #borrow").click(function () {
        //获取借阅书的id
        var bookid = $("#myModal #bookid").val();
        //获取用户id
        var uid = null;
        $.post('../servlet/checkLogin.php',
            function (data, status) {
                var result = JSON.parse(data);
                if (result.uid == '') {
                    window.location.replace('./login');
                } else {
                    uid = result.uid;
                    //发送ajax，存储借阅信息
                    $.post('../servlet/borrowServlet.php',
                        {
                            uid: uid,
                            bid: bookid
                        },
                        function (data, status) {
                            var result = JSON.parse(data);
                            if (result.code == 200) {
                                //借阅成功
                                //当前是第几页
                                var nowpage = $("ul.pagination li.active").text();
                                loadLimitList(nowpage);
                                $("#myModal2 div.modal-body").text('借阅成功');
                                $("#myModal2").modal('show');
                            } else {
                                //借阅失败
                                $("#myModal2 div.modal-body").text('操作失败,请稍后再试');
                                $("#myModal2").modal('show');
                            }
                        }
                    )
                }
            }
        )
        $("#myModal").modal('hide');
    })


    //点击书籍类别
    $("#category").click(function () {
        $(location).attr('href', './categry.html');
    })


    //点击借书信息
    $("#borrow").click(function () {
        $("a.list-group-item").removeClass("active");
        $(this).addClass("active");
        $(".selectBorrow").show();
        $(".selectReturn").hide();
        $(".selectMyInfo").hide();
        $(".selectBook").hide();
        $(".selectCategory").hide();
        selectBorrow();
    })

    //查询借阅信息
    function selectBorrow() {
        $.post('../servlet/checkLogin.php',
            function (data, status) {
                var result = JSON.parse(data);
                if (result.uid == '') {
                    window.location.replace('./login');
                } else {
                    uid = result.uid;
                    $.get('../servlet/borrowListServlet.php',
                        {
                            uid: uid
                        },
                        function (data, status) {
                            var result = JSON.parse(data);
                            if (result.data != null) {
                                //将借书信息渲染到页面上
                                $("#allBorrow tbody").empty();
                                for (var i = 0; i < result.data.length; i++) {
                                    var $uname = $('<td>' + result.data[i].uname + '</td>');
                                    var $bname = $('<td>' + result.data[i].bname + '</td>');
                                    var $author = $('<td>' + result.data[i].author + '</td>');
                                    var $photo = $("<td><img src='" + result.data[i].photo + "' style='width:100px;height:120px;'></td>");
                                    var $cname = $('<td>' + result.data[i].cname + '</td>');
                                    var $bdate = $('<td>' + result.data[i].bdate + '</td>');
                                    var $return = $("<td value='" + result.data[i].id + "'><button type='button' class='btn btn-warning'>归还</button></td>")
                                    var $tr = $('<tr></tr>');
                                    $tr.append($uname, $bname, $author, $photo, $cname, $bdate, $return);
                                    $("#allBorrow tbody").append($tr);
                                    $('td').css('vertical-align', 'middle');
                                }
                                //点击归还按钮
                                $("button.btn-warning").click(function () {
                                    var id = $(this).parent().attr('value');
                                    $("#returnModal #returnid").val(id);
                                    $("#returnModal").modal('show');
                                })
                            }
                        }
                    )
                }
            })
    }

    //点击归还模态框的确认按钮
    $("#returnModal #identify").click(function () {
        var returnId = $("#returnModal #returnid").val();
        $.post('../servlet/returnServlet.php',
            {
                id: returnId
            },
            function (data, status) {
                var result = JSON.parse(data);
                if (result.code == 200) {
                    //归还成功
                    $("#myModal2 div.modal-body").text('归还成功');
                    $("#myModal2").modal('show');
                    selectBorrow();
                } else {
                    //归还失败
                    $("#myModal2 div.modal-body").text('操作失败, 请稍后再试');
                    $("#myModal2").modal('show');
                    selectBorrow();
                }
            }
        )
        $("#returnModal").modal('hide');
    })

    //点击归还记录
    $("#return").click(function () {
        $("a.list-group-item").removeClass("active");
        $(this).addClass("active");
        $(".selectReturn").show();
        $(".selectMyInfo").hide();
        $(".selectBook").hide();
        $(".selectCategory").hide();
        $(".selectBorrow").hide();
        selectReturn();
    })

    //查询归还记录信息
    function selectReturn() {
        //发送网络请求，获取session中的uid
        $.post('../servlet/checkLogin.php',
            function (data, status) {
                var result = JSON.parse(data);
                if (result.uid == '') {
                    window.location.replace('./login');
                } else {
                    uid = result.uid;
                    $.get('../servlet/returnListServlet.php',
                        {
                            uid: uid
                        },
                        function (data, status) {
                            var result = JSON.parse(data);
                            $("#allReturn tbody").empty();
                            for (var i = 0; i < result.data.length; i++) {
                                var $uname = $("<td>" + result.data[i].uname + "</td>");
                                var $bname = $("<td>" + result.data[i].bname + "</td>");
                                var $author = $("<td>" + result.data[i].author + "</td>");
                                var $photo = $("<td><img src='" + result.data[i].photo + "' style='width:100px;height:120px;'></td>");
                                var $cname = $("<td>" + result.data[i].cname + "</td>");
                                var $bdate = $("<td>" + result.data[i].bdate + "</td>");
                                var $rdate = $("<td>" + result.data[i].rdate + "</td>");
                                var $return = $("<td>已归还</td>");
                                var $tr = $("<tr class='info'></tr>");
                                $tr.append($uname, $bname, $author, $photo, $cname, $bdate, $rdate, $return);
                                $("#allReturn tbody").append($tr);
                                $('td').css('vertical-align', 'middle');
                            }
                        }
                    )
                }
            })
    }


    //点击我的信息管理
    $(".myinfo").click(function () {
        $("a.list-group-item").removeClass("active");
        $(this).children().addClass("active");
        $(".selectMyInfo").show();
        $(".selectBook").hide();
        $(".selectCategory").hide();
        $(".selectBorrow").hide();
        $(".selectReturn").hide();
        loadMyInfo();
    })

    //加载我的信息
    function loadMyInfo() {
        $.post('../servlet/checkLogin.php',
            function (data, status) {
                var result = JSON.parse(data);
                if (result.uid == '') {
                    window.location.replace('./login');
                } else {
                    //先从session获取用户id
                    uid = result.uid;
                    //根据用户id，查询对应用户的信息
                    $.get('../servlet/getUserInfo.php',
                        {
                            uid: uid
                        },
                        function (data, status) {
                            $("div.selectMyInfo #myInfo ul").empty();
                            var result = JSON.parse(data);
                            $("div.selectMyInfo #myInfo img").attr("src", result.data[0].userface);
                            var $uname = $("<li>用户名:" + result.data[0].uname + "</li>");
                            var $phone = $("<li>手机:" + result.data[0].phone + "</li>");
                            $("div.selectMyInfo #myInfo ul").append($uname, $phone);
                        }
                    )
                }
            })
    }
    //更换头像
    $("#uploadface").change(function () {
        var formData = new FormData();//存放文件
        formData.append('file', $('#uploadface')[0].files[0]);
        $.ajax({
            url: '../servlet/uploadFaceServlet.php',
            type: 'post',
            dataType: 'json',
            processData: false,// 告诉jQuery不要去处理发送的数据
            contentType: false,// 告诉jQuery不要去设置Content-Type请求头
            data: formData,
            success: function (data) {
                if(data.code == 200){
                    loadMyInfo();
                }else{
                    alert('服务器错误,请稍后再试');
                }
            },
            error: function (data) {
                alert('服务器错误,请稍后再试');
            }
        })
    })
    //编辑资料
    $("#edit").click(function () {
        $("#editInfo").modal('show');
    })
    //点击模态框确认修改信息按钮事件
    $("#confirmInfo").click(function(){
        var newName = $("#newName").val();
        var newPhone = $("#newPhone").val();
        if(newName == '' && newPhone == ''){
            return;
        }else{
            $.post('../servlet/updateInfo.php',
            {
                name:newName,
                phone:newPhone
            },
            function(data,status){
                $("#editInfo").modal('hide');
                var result = JSON.parse(data);
                if(result.code == 200){
                    $("#myModal2 div.modal-body").text('修改成功');
                    $("#myModal2").modal('show');
                    loadMyInfo();
                    $("#username").text(newName);
                }else{
                    $("#myModal2 div.modal-body").text('修改失败');
                    $("#myModal2").modal('show');
                }
            })
        }
    })
    //修改密码
    $("#btnEditPwd").click(function () {
        $("#editPwd").modal('show');
    })
    //点击模态框修改确认修改密码按钮事件
    $("#confirmPwd").click(function(){
        var newPwd = $("#newPwd").val();
        if(newPwd != ''){
            $.post('../servlet/updatePwdServlet.php',
                {
                    password:newPwd
                },
                function(data,status){
                    var result = JSON.parse(data);
                    $("#editPwd").modal('hide');
                    if(result.code == 200){
                        $("#myModal2 div.modal-body").text('修改成功,3秒后将重新登录');
                        $("#myModal2").modal('show');
                        setTimeout(() => {
                            window.location.replace('./login.html');
                        }, 3000);
                    }else{
                        $("#myModal2 div.modal-body").text('修改失败');
                        $("#myModal2").modal('show');
                    }
                }
            )
        }else{
            return;
        }
    })
</script>

</html>