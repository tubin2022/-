{"remainingRequest":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\src\\components\\Statistics.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\src\\components\\Statistics.vue","mtime":1656520673474},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //日期参数\n      date: '',\n      //每天售票统计数据，分别为路线，已售票数，未售票数（即剩余票数）\n      line: [],\n      saled: [],\n      surplus: [],\n      //每天城市发出班次统计数据\n      shifts: []\n    };\n  },\n  methods: {\n    //绘制每天售票情况统计图\n    drawCharts: function drawCharts(line, saled, surplus) {\n      var that = this; // 基于准备好的dom，初始化echarts实例\n\n      var myChart = this.$echarts.init(document.getElementById('statisticsTicket'));\n      var option = {\n        backgroundColor: '#f5fffe',\n        tooltip: {\n          trigger: 'axis'\n        },\n        legend: {\n          data: ['已售票数', '未售票数'],\n          textStyle: {\n            color: '#02c4ef'\n          }\n        },\n        grid: {\n          left: '3%',\n          right: '4%',\n          bottom: '3%',\n          containLabel: true\n        },\n        xAxis: {\n          type: 'category',\n          data: line,\n          axisTick: {\n            show: false\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: '#58f1f3'\n            }\n          },\n          axisLabel: {\n            show: true,\n            textStyle: {\n              color: '#215ae0',\n              fontSize: 12\n            } //rotate:30\n\n          }\n        },\n        yAxis: {\n          type: 'value',\n          splitLine: {\n            show: true,\n            lineStyle: {\n              color: '#a5ffff'\n            }\n          },\n          axisTick: {\n            show: false\n          },\n          axisLine: {\n            show: true,\n            lineStyle: {\n              color: '#3b73f5'\n            }\n          }\n        },\n        series: [{\n          name: '已售票数',\n          type: 'bar',\n          stack: '总量',\n          barWidth: 30,\n          itemStyle: {\n            normal: {\n              color: '#89afff'\n            }\n          },\n          label: {\n            normal: {\n              show: true,\n              position: 'inside'\n            }\n          },\n          z: 10,\n          data: saled\n        }, {\n          name: '未售票数',\n          type: 'bar',\n          stack: '总量',\n          itemStyle: {\n            normal: {\n              color: '#8ed6f4'\n            }\n          },\n          label: {\n            normal: {\n              show: true,\n              position: 'inside',\n              textStyle: {\n                color: '#7375ff'\n              }\n            }\n          },\n          z: 5,\n          data: surplus\n        }]\n      }; // if (myChart == null) {\n      //           myChart = this.$echarts.init(this.$refs[this.chartObj.type]);\n      //         }\n      //         myChart.setOption(option);\n\n      if (option) {\n        myChart.setOption(option);\n      }\n    },\n    //绘制每天城市发出班次统计图\n    drawCharts2: function drawCharts2(shifts) {\n      // 基于准备好的dom，初始化echarts实例\n      var myChart = this.$echarts.init(document.getElementById('statisticsShift'));\n      var option = {\n        title: {\n          text: '每日城市发出班次分布图',\n          left: 'center'\n        },\n        tooltip: {\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [{\n          name: 'Access From',\n          type: 'pie',\n          radius: '60%',\n          data: shifts,\n          emphasis: {\n            itemStyle: {\n              shadowBlur: 10,\n              shadowOffsetX: 0,\n              shadowColor: 'rgba(0, 0, 0, 0.5)'\n            }\n          }\n        }]\n      };\n      myChart.setOption(option);\n    },\n    //获取每天售票统计数据\n    getData: function getData() {\n      var that = this;\n      this.$axios.get(\"http://localhost:8888/statistics/daySale?date=\" + that.date).then(function (res) {\n        that.line = res.data.data.line;\n        that.saled = res.data.data.saled;\n        that.surplus = res.data.data.surplus;\n        that.drawCharts(that.line, that.saled, that.surplus);\n      });\n    },\n    //获取每天城市发出班次统计数据\n    getData2: function getData2() {\n      var that = this;\n      this.$axios.get(\"http://localhost:8888/statistics/dayShift?date=\" + that.date).then(function (res) {\n        that.shifts = res.data.data;\n        that.drawCharts2(that.shifts);\n      });\n    },\n    //点击确认按钮，执行获取数据的方法，并绘制两个统计图\n    cinfirm: function cinfirm() {\n      console.log(this.date);\n      this.getData();\n      this.getData2();\n    },\n    //获取当前时间并格式化\n    dateFormat: function dateFormat() {\n      var date = new Date();\n      var year = date.getFullYear();\n      var month = date.getMonth() + 1;\n      var day = date.getDate();\n\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n\n      if (day < 10) {\n        day = \"0\" + day;\n      }\n\n      var nowDate = year + \"-\" + month + \"-\" + day;\n      this.date = nowDate;\n    }\n  },\n  //生命周期函数，默认刚进入页面加载今天的统计数据对应的统计图\n  mounted: function mounted() {\n    this.dateFormat();\n    this.getData();\n    this.getData2();\n    this.drawCharts(this.line, this.saled, this.surplus);\n    this.drawCharts2(this.shifts);\n  }\n};",{"version":3,"sources":["Statistics.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"statistics\" style=\"width: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t统计分析\r\n\t\t</div>\r\n\t\t<div class=\"center\" align=\"center\" style=\"height: 100%;margin: auto;width: 100%;\">\r\n\t\t<!-- 日期选择 -->\r\n\t\t<div id=\"selectDate\">\r\n\t\t\t<span style=\"color: #9bc9c9;\">\r\n\t\t\t\t请选择查看日期\r\n\t\t\t</span><br>\r\n\t\t\t<!-- <input type=\"date\" v-model=\"date\"/> -->\r\n\t\t\t<el-date-picker\r\n\t\t\tv-model=\"date\"\r\n\t\t\t      type=\"date\"\r\n\t\t\t\t  value-format=\"yyyy-MM-dd\">\r\n\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t<el-button type=\"primary\" @click=\"cinfirm()\">确认</el-button>\r\n\t\t</div><br>\r\n\t\t<!-- 每天售票统计图容器 -->\r\n\t\t<!-- <el-tag type=\"info\">每日票务售卖情况柱状图</el-tag> -->\r\n\t\t<span style=\"font-weight:bold\">每日票务售卖情况柱状图</span>\r\n\t\t\r\n\t\t\t<div id=\"statisticsTicket\" style=\"width: 800px;height: 400px;\">\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t\t\t<!-- 每天城市发出班次统计图容器 -->\r\n\t\t<div id=\"statisticsShift\" style=\"width: 600px;height: 400px;\">\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn{\r\n\t\t\t\t//日期参数\r\n\t\t\t\tdate:'',\r\n\t\t\t\t//每天售票统计数据，分别为路线，已售票数，未售票数（即剩余票数）\r\n\t\t\t\tline:[],\r\n\t\t\t\tsaled:[],\r\n\t\t\t\tsurplus:[],\r\n\t\t\t\t//每天城市发出班次统计数据\r\n\t\t\t\tshifts:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\t//绘制每天售票情况统计图\r\n\t\t\tdrawCharts(line,saled,surplus){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t // 基于准备好的dom，初始化echarts实例\r\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('statisticsTicket'));\r\n\t\t\t\t\r\n\t\t\t\tlet  option = {\r\n\t\t\t\t    backgroundColor:'#f5fffe',\r\n\t\t\t\t    tooltip:{\r\n\t\t\t\t      trigger:'axis'  \r\n\t\t\t\t    },\r\n\t\t\t\t    legend: {\r\n\t\t\t\t        data: ['已售票数', '未售票数'],\r\n\t\t\t\t        textStyle:{\r\n\t\t\t\t            color:'#02c4ef'\r\n\t\t\t\t        }\r\n\t\t\t\t    },\r\n\t\t\t\t    grid: {\r\n\t\t\t\t        left: '3%',\r\n\t\t\t\t        right: '4%',\r\n\t\t\t\t        bottom: '3%',\r\n\t\t\t\t        containLabel: true\r\n\t\t\t\t    },\r\n\t\t\t\t    xAxis:  {\r\n\t\t\t\t        type: 'category',\r\n\t\t\t\t        data: line,\r\n\t\t\t\t        axisTick: { show: false },\r\n\t\t\t\t        axisLine: {\r\n\t\t\t\t            show: true,\r\n\t\t\t\t            lineStyle:{\r\n\t\t\t\t                color:'#58f1f3'\r\n\t\t\t\t            },\r\n\t\t\t\t        },\r\n\t\t\t\t        axisLabel: { \r\n\t\t\t\t            show:true,\r\n\t\t\t\t            textStyle:{\r\n\t\t\t\t                color:'#215ae0',\r\n\t\t\t\t                fontSize:12,\r\n\t\t\t\t            },\r\n\t\t\t\t            //rotate:30\r\n\t\t\t\t        }\r\n\t\t\t\t    },\r\n\t\t\t\t    yAxis: {\r\n\t\t\t\t        type: 'value',\r\n\t\t\t\t        splitLine: {show: true,\r\n\t\t\t\t            lineStyle:{\r\n\t\t\t\t                color:'#a5ffff'\r\n\t\t\t\t            }\r\n\t\t\t\t        },\r\n\t\t\t\t        axisTick: { show: false },\r\n\t\t\t\t        axisLine: { \r\n\t\t\t\t            show: true,\r\n\t\t\t\t            lineStyle:{\r\n\t\t\t\t                color:'#3b73f5'\r\n\t\t\t\t            }\r\n\t\t\t\t        },\r\n\t\t\t\t    },\r\n\t\t\t\t    series: [\r\n\t\t\t\t        {\r\n\t\t\t\t            name: '已售票数',\r\n\t\t\t\t            type: 'bar',\r\n\t\t\t\t            stack: '总量',\r\n\t\t\t\t            barWidth: 30,\r\n\t\t\t\t            itemStyle:{\r\n\t\t\t\t                normal: {\r\n\t\t\t\t                    color: '#89afff',\r\n\t\t\t\t                }\r\n\t\t\t\t            },\r\n\t\t\t\t            label: {\r\n\t\t\t\t                normal: {\r\n\t\t\t\t                    show: true,\r\n\t\t\t\t                    position:'inside'\r\n\t\t\t\t                }\r\n\t\t\t\t            },\r\n\t\t\t\t            z:  10,\r\n\t\t\t\t            data: saled\r\n\t\t\t\t        },\r\n\t\t\t\t        {\r\n\t\t\t\t            name: '未售票数',\r\n\t\t\t\t            type: 'bar',\r\n\t\t\t\t            stack: '总量',\r\n\t\t\t\t            itemStyle:{\r\n\t\t\t\t                normal: {\r\n\t\t\t\t                    color: '#8ed6f4'\r\n\t\t\t\t                }\r\n\t\t\t\t            },\r\n\t\t\t\t            label: {\r\n\t\t\t\t                normal: {\r\n\t\t\t\t                    show: true,\r\n\t\t\t\t                    position: 'inside',\r\n\t\t\t\t                    textStyle:{\r\n\t\t\t\t                        color:'#7375ff'\r\n\t\t\t\t                    }\r\n\t\t\t\t                }\r\n\t\t\t\t            },\r\n\t\t\t\t            z: 5,\r\n\t\t\t\t            data: surplus\r\n\t\t\t\t        },\r\n\t\t\t\t    ]\r\n\t\t\t\t};\r\n\t\t\t\t  \r\n\t\t\t\t  // if (myChart == null) {\r\n\t\t\t\t  //           myChart = this.$echarts.init(this.$refs[this.chartObj.type]);\r\n\t\t\t\t  //         }\r\n\t\t\t\t  //         myChart.setOption(option);\r\n\t\t\t\tif(option){\r\n\t\t\t\tmyChart.setOption(option);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//绘制每天城市发出班次统计图\r\n\t\t\tdrawCharts2(shifts){\r\n\t\t\t\t// 基于准备好的dom，初始化echarts实例\r\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('statisticsShift'))\r\n\t\t\t\tlet option = {\r\n\t\t\t\t  title: {\r\n\t\t\t\t    text: '每日城市发出班次分布图',\r\n\t\t\t\t    left: 'center'\r\n\t\t\t\t  },\r\n\t\t\t\t  tooltip: {\r\n\t\t\t\t    trigger: 'item'\r\n\t\t\t\t  },\r\n\t\t\t\t  legend: {\r\n\t\t\t\t    orient: 'vertical',\r\n\t\t\t\t    left: 'left'\r\n\t\t\t\t  },\r\n\t\t\t\t  series: [\r\n\t\t\t\t    {\r\n\t\t\t\t      name: 'Access From',\r\n\t\t\t\t      type: 'pie',\r\n\t\t\t\t      radius: '60%',\r\n\t\t\t\t      data:shifts,\r\n\t\t\t\t      emphasis: {\r\n\t\t\t\t        itemStyle: {\r\n\t\t\t\t          shadowBlur: 10,\r\n\t\t\t\t          shadowOffsetX: 0,\r\n\t\t\t\t          shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n\t\t\t\t        }\r\n\t\t\t\t      }\r\n\t\t\t\t    }\r\n\t\t\t\t  ]\r\n\t\t\t\t};\r\n\t\t\t\t\tmyChart.setOption(option);\r\n\t\t\t},\r\n\t\t\t//获取每天售票统计数据\r\n\t\t\tgetData(){\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tthis.$axios.get(\"http://localhost:8888/statistics/daySale?date=\"+that.date).then(res =>{\r\n\t\t\t\t\tthat.line = res.data.data.line;\r\n\t\t\t\t\tthat.saled = res.data.data.saled;\r\n\t\t\t\t\tthat.surplus = res.data.data.surplus;\r\n\t\t\t\t\tthat.drawCharts(that.line,that.saled,that.surplus)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取每天城市发出班次统计数据\r\n\t\t\tgetData2(){\r\n\t\t\t\tconst that = this;\r\n\t\t\t\tthis.$axios.get(\"http://localhost:8888/statistics/dayShift?date=\"+that.date).then(res =>{\r\n\t\t\t\t\tthat.shifts = res.data.data;\r\n\t\t\t\t\tthat.drawCharts2(that.shifts);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//点击确认按钮，执行获取数据的方法，并绘制两个统计图\r\n\t\t\tcinfirm(){\r\n\t\t\t\tconsole.log(this.date)\r\n\t\t\t\tthis.getData();\r\n\t\t\t\tthis.getData2();\r\n\t\t\t},\r\n\t\t\t//获取当前时间并格式化\r\n\t\t\tdateFormat(){\r\n\t\t\t\tlet date = new Date();\r\n\t\t\t\tlet year = date.getFullYear();\r\n\t\t\t\tlet month = date.getMonth() + 1;\r\n\t\t\t\tlet day = date.getDate();\r\n\t\t\t\tif (month < 10) {\r\n\t\t\t\t    month = \"0\" + month;\r\n\t\t\t\t}\r\n\t\t\t\tif (day < 10) {\r\n\t\t\t\t    day = \"0\" + day;\r\n\t\t\t\t}\r\n\t\t\t\tlet nowDate = year + \"-\" + month + \"-\" + day; \r\n\t\t\t\tthis.date = nowDate;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//生命周期函数，默认刚进入页面加载今天的统计数据对应的统计图\r\n\t\tmounted(){\r\n\t\t\tthis.dateFormat();\r\n\t\t\tthis.getData();\r\n\t\t\tthis.getData2();\r\n\t\t\tthis.drawCharts(this.line,this.saled,this.surplus);\r\n\t\t\tthis.drawCharts2(this.shifts);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 39px;\r\n\t\tcolor: rgb(151, 148, 253);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}