{"remainingRequest":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\src\\components\\AddUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\src\\components\\AddUser.vue","mtime":1656487841050},{"path":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台最终版0705\\后台最终版\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Tubin\\\\Desktop\\\\\\u540E\\u53F0\\u6700\\u7EC8\\u72480705\\\\\\u540E\\u53F0\\u6700\\u7EC8\\u7248\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport qs from 'qs';\nexport default {\n  data: function data() {\n    return {\n      imageUrl: '',\n      visible: false,\n      tableData: [],\n      dialogVisible: false,\n      current_page_data: [],\n      current_page: 1,\n      page_size: 5,\n      multipleSelection: [],\n      ids: [],\n      totalCount: 1,\n      options: [{\n        value: \"男\",\n        label: '男'\n      }, {\n        value: \"女\",\n        label: '女'\n      }],\n      user: {\n        uname: \"\",\n        gender: \"\",\n        phone: \"\",\n        password: \"\",\n        email: \"\",\n        userface: \"\"\n      }\n    };\n  },\n  methods: {\n    init: function init(n1, n2) {\n      var _this = this; //把vue对象 先保存到第三方变量中\n\n\n      _this.current_page = n1, _this.page_size = n2, // 为给定 ID 的 user 创建请求\n      this.myAxios.get(\"http://localhost:8888/user/findUser?pageNo=\" + _this.current_page + \"&pageSize=\" + _this.page_size).then(function (response) {\n        console.log(response);\n        console.log(_this.page_size);\n        _this.tableData = response.data.data;\n        _this.totalCount = response.data.data.total;\n        console.log(_this.tableData); // _this.onloads();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    handleClose: function handleClose(done) {\n      var _this2 = this;\n\n      this.$confirm('确认关闭？').then(function (_) {\n        done();\n        _this2.user.uname = \"\";\n        _this2.user.gender = \"\";\n        _this2.user.phone = \"\";\n        _this2.user.password = \"\";\n        _this2.user.email = \"\";\n        _this2.user.userface = \"\";\n        _this2.imageUrl = \"\";\n      }).catch(function (_) {});\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      // 改变每页显示的条数 \n      this.page_size = val; // 注意：在改变每页显示的条数时，要将页码显示到第一页\n\n      this.current_page = 1; // console.log(this.page_size);\n\n      this.init(1, val);\n    },\n    // 显示第几页\n    handleCurrentChange: function handleCurrentChange(val) {\n      // 改变默认的页数\n      this.current_page = val;\n      this.init(this.current_page, this.page_size);\n    },\n    add: function add() {\n      this.visible = !this.visible;\n    },\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      this.imageUrl = URL.createObjectURL(file.raw); // console.log(imageUrl)\n\n      console.log(res.data.url);\n      this.user.userface = res.data.url;\n      console.log(this.user.userface);\n    },\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      var isJPG = file.type === 'image/jpeg';\n      var isLt2M = file.size / 1024 / 1024 < 2;\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG 格式!');\n      }\n\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n\n      return isJPG && isLt2M;\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    addUser: function () {\n      var _addUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.user.uname == \"\" || this.user.gender == \"\" || this.user.phone == \"\" || this.user.password == \"\" || this.user.email == \"\" || this.user.userface == \"\") {\n                  if (this.user.uname == \"\" && this.user.gender == \"\" && this.user.phone == \"\" && this.user.password == \"\" && this.user.email == \"\" && this.user.userface == \"\") {\n                    this.$alert(\"请输入用户信息\", {\n                      confirmButtonText: '确定',\n                      type: 'warning'\n                    });\n                  } else {\n                    this.$alert(\"请输入完整用户信息\", {\n                      confirmButtonText: '确定',\n                      type: 'warning'\n                    });\n                  }\n                }\n\n                if (!(this.user.uname != \"\" && this.user.gender != \"\" && this.user.phone != \"\" && this.user.password != \"\" && this.user.email != \"\" && this.user.userface != \"\")) {\n                  _context.next = 11;\n                  break;\n                }\n\n                _this = this;\n                console.log(this.user.phone); // \n\n                _context.next = 6;\n                return this.myAxios.post('http://localhost:8888/user/registe', qs.stringify(_this.user)).then(function (response) {\n                  _this.tableData.code = response.data.code;\n                  _this.tableData.msg = response.data.msg;\n                  console.log(response);\n\n                  if (response.data == \"success\") {\n                    _this.init();\n                  }\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 6:\n                console.log(this.tableData.code);\n\n                if (this.tableData.code == 1000) {\n                  this.$alert(\"添加成功\", {\n                    confirmButtonText: '确定',\n                    type: 'success'\n                  });\n                  this.user.uname = \"\";\n                  this.user.gender = \"\";\n                  this.user.phone = \"\";\n                  this.user.password = \"\";\n                  this.user.email = \"\";\n                  this.user.userface = \"\";\n                  this.imageUrl = \"\";\n                  this.dialogVisible = false;\n                }\n\n                if (this.tableData.code == 1003) {\n                  this.$alert(\"手机号存在\", {\n                    confirmButtonText: '确定',\n                    type: 'warning'\n                  });\n                }\n\n                if (this.tableData.code == 4000) {\n                  this.$alert(this.tableData.msg, {\n                    confirmButtonText: '确定',\n                    type: 'warning'\n                  });\n                }\n\n                if (this.tableData.code == 4001) {\n                  this.$alert(this.tableData.msg, {\n                    confirmButtonText: '确定',\n                    type: 'warning'\n                  });\n                }\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addUser() {\n        return _addUser.apply(this, arguments);\n      }\n\n      return addUser;\n    }()\n  },\n  created: function created() {\n    // this.onloads();\n    this.init(this.current_page, this.page_size);\n  }\n};",{"version":3,"sources":["AddUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA,OAAA,EAAA,MAAA,IAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,aAAA,EAAA,KAJA;AAKA,MAAA,iBAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,CANA;AAOA,MAAA,SAAA,EAAA,CAPA;AAQA,MAAA,iBAAA,EAAA,EARA;AASA,MAAA,GAAA,EAAA,EATA;AAUA,MAAA,UAAA,EAAA,CAVA;AAWA,MAAA,OAAA,EAAA,CAAA;AACA,QAAA,KAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAAA,EAGA;AACA,QAAA,KAAA,EAAA,GADA;AAEA,QAAA,KAAA,EAAA;AAFA,OAHA,CAXA;AAkBA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA,EAHA;AAIA,QAAA,QAAA,EAAA,EAJA;AAKA,QAAA,KAAA,EAAA,EALA;AAMA,QAAA,QAAA,EAAA;AANA;AAlBA,KAAA;AA2BA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,gBACA,EADA,EACA,EADA,EACA;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CACA;;;AACA,MAAA,KAAA,CAAA,YAAA,GAAA,EAAA,EACA,KAAA,CAAA,SAAA,GAAA,EADA,EAEA;AACA,WAAA,OAAA,CAAA,GAAA,CAAA,gDAAA,KAAA,CAAA,YAAA,GAAA,YAAA,GACA,KAAA,CAAA,SADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA,EALA,CAMA;AACA,OATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAZA,CAHA;AAiBA,KApBA;AAqBA,IAAA,WArBA,uBAqBA,IArBA,EAqBA;AAAA;;AACA,WAAA,QAAA,CAAA,OAAA,EACA,IADA,CACA,UAAA,CAAA,EAAA;AACA,QAAA,IAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,MAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,CAAA,EAAA,CAAA,CAXA;AAYA,KAlCA;AAmCA,IAAA,gBAnCA,4BAmCA,GAnCA,EAmCA;AACA;AACA,WAAA,SAAA,GAAA,GAAA,CAFA,CAGA;;AACA,WAAA,YAAA,GAAA,CAAA,CAJA,CAKA;;AACA,WAAA,IAAA,CAAA,CAAA,EAAA,GAAA;AACA,KA1CA;AA2CA;AACA,IAAA,mBA5CA,+BA4CA,GA5CA,EA4CA;AACA;AACA,WAAA,YAAA,GAAA,GAAA;AACA,WAAA,IAAA,CAAA,KAAA,YAAA,EAAA,KAAA,SAAA;AACA,KAhDA;AAiDA,IAAA,GAjDA,iBAiDA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,KAnDA;AAqDA,IAAA,mBArDA,+BAqDA,GArDA,EAqDA,IArDA,EAqDA;AACA,WAAA,QAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CADA,CAEA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,QAAA;AACA,KA3DA;AA4DA,IAAA,kBA5DA,8BA4DA,IA5DA,EA4DA;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,IAAA,KAAA,YAAA;AACA,UAAA,MAAA,GAAA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,CAAA;;AAEA,UAAA,CAAA,KAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,mBAAA;AACA;;AACA,UAAA,CAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA,CAAA,mBAAA;AACA;;AACA,aAAA,KAAA,IAAA,MAAA;AACA,KAvEA;AAwEA,IAAA,qBAxEA,iCAwEA,GAxEA,EAwEA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,KA1EA;AA2EA,IAAA,OA3EA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AA4EA,oBAAA,KAAA,IAAA,CAAA,KAAA,IAAA,EAAA,IACA,KAAA,IAAA,CAAA,MAAA,IAAA,EADA,IAEA,KAAA,IAAA,CAAA,KAAA,IAAA,EAFA,IAGA,KAAA,IAAA,CAAA,QAAA,IAAA,EAHA,IAIA,KAAA,IAAA,CAAA,KAAA,IAAA,EAJA,IAKA,KAAA,IAAA,CAAA,QAAA,IAAA,EALA,EAMA;AACA,sBAAA,KAAA,IAAA,CAAA,KAAA,IAAA,EAAA,IACA,KAAA,IAAA,CAAA,MAAA,IAAA,EADA,IAEA,KAAA,IAAA,CAAA,KAAA,IAAA,EAFA,IAGA,KAAA,IAAA,CAAA,QAAA,IAAA,EAHA,IAIA,KAAA,IAAA,CAAA,KAAA,IAAA,EAJA,IAKA,KAAA,IAAA,CAAA,QAAA,IAAA,EALA,EAKA;AACA,yBAAA,MAAA,CAAA,SAAA,EAAA;AACA,sBAAA,iBAAA,EAAA,IADA;AAEA,sBAAA,IAAA,EAAA;AAFA,qBAAA;AAIA,mBAVA,MAWA;AACA,yBAAA,MAAA,CAAA,WAAA,EAAA;AACA,sBAAA,iBAAA,EAAA,IADA;AAEA,sBAAA,IAAA,EAAA;AAFA,qBAAA;AAIA;AACA;;AApGA,sBAqGA,KAAA,IAAA,CAAA,KAAA,IAAA,EAAA,IACA,KAAA,IAAA,CAAA,MAAA,IAAA,EADA,IAEA,KAAA,IAAA,CAAA,KAAA,IAAA,EAFA,IAGA,KAAA,IAAA,CAAA,QAAA,IAAA,EAHA,IAIA,KAAA,IAAA,CAAA,KAAA,IAAA,EAJA,IAKA,KAAA,IAAA,CAAA,QAAA,IAAA,EA1GA;AAAA;AAAA;AAAA;;AA2GA,gBAAA,KA3GA,GA2GA,IA3GA;AA4GA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,KAAA,EA5GA,CA6GA;;AA7GA;AAAA,uBA8GA,KAAA,OAAA,CAAA,IAAA,CAAA,oCAAA,EACA,EAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,SAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,kBAAA,KAAA,CAAA,SAAA,CAAA,GAAA,GAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,sBAAA,QAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,oBAAA,KAAA,CAAA,IAAA;AACA;AACA,iBATA,EAUA,KAVA,CAUA,UAAA,KAAA,EAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,iBAZA,CA9GA;;AAAA;AA2HA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA,CAAA,IAAA;;AACA,oBAAA,KAAA,SAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,uBAAA,MAAA,CAAA,MAAA,EAAA;AACA,oBAAA,iBAAA,EAAA,IADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA,uBAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,uBAAA,IAAA,CAAA,MAAA,GAAA,EAAA;AACA,uBAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,uBAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,uBAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,uBAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,uBAAA,QAAA,GAAA,EAAA;AACA,uBAAA,aAAA,GAAA,KAAA;AACA;;AACA,oBAAA,KAAA,SAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AAEA,uBAAA,MAAA,CAAA,OAAA,EAAA;AACA,oBAAA,iBAAA,EAAA,IADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAKA;;AACA,oBAAA,KAAA,SAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,uBAAA,MAAA,CAAA,KAAA,SAAA,CAAA,GAAA,EAAA;AACA,oBAAA,iBAAA,EAAA,IADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA;;AACA,oBAAA,KAAA,SAAA,CAAA,IAAA,IAAA,IAAA,EAAA;AACA,uBAAA,MAAA,CAAA,KAAA,SAAA,CAAA,GAAA,EAAA;AACA,oBAAA,iBAAA,EAAA,IADA;AAEA,oBAAA,IAAA,EAAA;AAFA,mBAAA;AAIA;;AA7JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GA9BA;AAiMA,EAAA,OAjMA,qBAiMA;AAEA;AACA,SAAA,IAAA,CAAA,KAAA,YAAA,EAAA,KAAA,SAAA;AACA;AArMA,CAAA","sourcesContent":["<template>\r\n\t<div style=\" height: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t添加用户\r\n\t\t</div>\r\n\t\t<div style=\"text-align: center;margin: 0 auto;\">\r\n\t\t\t<el-card class=\"center\" align=\"center\" style=\"margin: auto;width: 820px;\">\r\n\t\t\t\t<el-button type='success' @click=\"dialogVisible = true\">添加用户</el-button>\r\n\t\t\t\t<br>\r\n\t\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData.data\" stripe\r\n\t\t\t\t\t:default-sort=\"{prop:'date',order:'descsexing'}\" tooltip-effect=\"dark\"\r\n\t\t\t\t\tstyle=\"width: 100%;text-align: center;margin: auto;\" @selection-change=\"handleSelectionChange\"\r\n\t\t\t\t\t:header-cell-style=\"{'text-align':'center'}\" :cell-style=\"{'text-align':'center'}\">\r\n\t\t\t\t\t<el-table-column sortable label=\"UID\" width=\"90\" prop=\"uid\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.uid }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.uid\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"uname\" label=\"姓名\" sortable width=\"90\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.uname }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.uname\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"gender\" label=\"性别\" width=\"90px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.gender }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.gender\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t<el-table-column prop=\"username\" label=\"电话号码\" width=\"140px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.username }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.username\" style=\"width: 130px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"email\" label=\"邮箱\" width=\"180px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.email }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.email\" style=\"width: 160px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"userface\" label=\"用户头像\" width=\"190px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<!-- <img :src=\"require('{{ scope.row.userface }}')\"> -->\r\n\t\t\t\t\t\t\t<el-popover placement=\"top-start\" title=\"\" trigger=\"hover\">\r\n\t\t\t\t\t\t\t\t<img :src=\"scope.row.userface\" alt=\"\" style=\"width: 200px;height: 200px\">\r\n\t\t\t\t\t\t\t\t<el-avatar slot=\"reference\" :src=\"scope.row.userface\" style=\"width: 70px;height: 70px\"\r\n\t\t\t\t\t\t\t\t\tshape=\"circle\" fit=\"cover\">\r\n\t\t\t\t\t\t\t\t</el-avatar>\r\n\t\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.userface\" style=\"width: 190px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table>\r\n\r\n\t\t\t\t<el-dialog title=\"添加用户\" :visible.sync=\"dialogVisible\" width=\"40%\" :before-close=\"handleClose\">\r\n\t\t\t\t\t请输入用户姓名：\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"用户姓名\" v-model=\"user.uname\" style=\"width:200px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t\t请输入用户性别：\r\n\t\t\t\t\t<el-select v-model=\"user.gender\" clearable placeholder=\"请选择性别\" style=\"width: 200px;\">\r\n\t\t\t\t\t    <el-option\r\n\t\t\t\t\t      v-for=\"item in options\"\r\n\t\t\t\t\t\t  :key=\"item.value\"\r\n\t\t\t\t\t      :label=\"item.label\"\r\n\t\t\t\t\t      :value=\"item.value\"\r\n\t\t\t\t\t\t  >\r\n\t\t\t\t\t    </el-option>\r\n\t\t\t\t\t  </el-select>&nbsp;<br><br>\r\n\t\t\t\t\t请输入电话号码：\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"电话号码\" v-model=\"user.phone\" style=\"width: 200px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t\t请输入用户密码：\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"用户密码\" v-model=\"user.password\" style=\"width: 200px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t\t请输入用户邮箱：\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"邮箱\" v-model=\"user.email\" style=\"width: 200px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t\t<span style=\"color: #000000;\">头像</span>\r\n\t\t\t\t\t<el-upload style=\"margin: auto;width: 60px;\" class=\"avatar-uploader\"\r\n\t\t\t\t\t\taction=\"http://localhost:8888/file/upload\" :show-file-list=\"false\"\r\n\t\t\t\t\t\t:on-success=\"handleAvatarSuccess\">\r\n\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload><br>\r\n\t\t\t\t\t<span  style=\"text-align: center;\">\r\n\t\t\t\t\t\t<el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</el-dialog>\r\n\t\t\t\t<div style=\"text-align: center;margin-top: 20px;\">\r\n\t\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t\t:current-page=\"current_page\" :page-sizes=\"[4,5,6,7]\" :page-size.sync=\"page_size\"\r\n\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalCount\">\r\n\t\t\t\t\t</el-pagination>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport qs from 'qs';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tvisible: false,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tcurrent_page_data: [],\r\n\t\t\t\tcurrent_page: 1,\r\n\t\t\t\tpage_size: 5,\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tids: [],\r\n\t\t\t\ttotalCount: 1,\r\n\t\t\t\toptions: [{\r\n\t\t\t\t          value: \"男\",\r\n\t\t\t\t          label: '男'\r\n\t\t\t\t        }, {\r\n\t\t\t\t          value: \"女\",\r\n\t\t\t\t          label: '女'\r\n\t\t\t\t        }],\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tuname: \"\",\r\n\t\t\t\t\tgender: \"\",\r\n\t\t\t\t\tphone: \"\",\r\n\t\t\t\t\tpassword: \"\",\r\n\t\t\t\t\temail: \"\",\r\n\t\t\t\t\tuserface: \"\",\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(n1, n2) {\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t_this.current_page = n1,\r\n\t\t\t\t\t_this.page_size = n2,\r\n\t\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\t\tthis.myAxios.get(\"http://localhost:8888/user/findUser?pageNo=\" + _this.current_page + \"&pageSize=\" +\r\n\t\t\t\t\t\t_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tconsole.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\thandleClose(done) {\r\n\t\t\t\tthis.$confirm('确认关闭？')\r\n\t\t\t\t\t.then(_ => {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\tthis.user.uname = \"\";\r\n\t\t\t\t\t\tthis.user.gender = \"\";\r\n\t\t\t\t\t\tthis.user.phone = \"\";\r\n\t\t\t\t\t\tthis.user.password = \"\";\r\n\t\t\t\t\t\tthis.user.email = \"\";\r\n\t\t\t\t\t\tthis.user.userface = \"\";\r\n\t\t\t\t\t\tthis.imageUrl = \"\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(_ => {});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\t// 改变每页显示的条数 \r\n\t\t\t\tthis.page_size = val\r\n\t\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t\tthis.current_page = 1\r\n\t\t\t\t// console.log(this.page_size);\r\n\t\t\t\tthis.init(1, val)\r\n\t\t\t},\r\n\t\t\t// 显示第几页\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\t// 改变默认的页数\r\n\t\t\t\tthis.current_page = val;\r\n\t\t\t\tthis.init(this.current_page, this.page_size);\r\n\t\t\t},\r\n\t\t\tadd() {\r\n\t\t\t\tthis.visible = !this.visible;\r\n\t\t\t},\r\n\r\n\t\t\thandleAvatarSuccess(res, file) {\r\n\t\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\t\t// console.log(imageUrl)\r\n\t\t\t\tconsole.log(res.data.url)\r\n\t\t\t\tthis.user.userface = res.data.url\r\n\t\t\t\tconsole.log(this.user.userface)\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!isJPG) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG 格式!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isJPG && isLt2M;\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t},\r\n\t\t\tasync addUser() {\r\n\t\t\t\tif (this.user.uname == \"\" ||\r\n\t\t\t\t\tthis.user.gender == \"\" ||\r\n\t\t\t\t\tthis.user.phone == \"\" ||\r\n\t\t\t\t\tthis.user.password == \"\" ||\r\n\t\t\t\t\tthis.user.email == \"\" ||\r\n\t\t\t\t\tthis.user.userface == \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.user.uname == \"\" &&\r\n\t\t\t\t\tthis.user.gender == \"\" &&\r\n\t\t\t\t\tthis.user.phone == \"\" &&\r\n\t\t\t\t\tthis.user.password == \"\" &&\r\n\t\t\t\t\tthis.user.email == \"\" &&\r\n\t\t\t\t\tthis.user.userface == \"\"){\r\n\t\t\t\t\tthis.$alert(\"请输入用户信息\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.$alert(\"请输入完整用户信息\", {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.user.uname != \"\" &&\r\n\t\t\t\t\tthis.user.gender != \"\" &&\r\n\t\t\t\t\tthis.user.phone != \"\" &&\r\n\t\t\t\t\tthis.user.password != \"\" &&\r\n\t\t\t\t\tthis.user.email != \"\" &&\r\n\t\t\t\t\tthis.user.userface != \"\"){\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\tconsole.log(this.user.phone)\r\n\t\t\t\t// \r\n\t\t\t\tawait this.myAxios.post('http://localhost:8888/user/registe',\r\n\t\t\t\t\t\tqs.stringify(_this.user))\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t_this.tableData.code = response.data.code;\r\n\t\t\t\t\t\t_this.tableData.msg = response.data.msg;\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.data == \"success\") {\r\n\t\t\t\t\t\t\t_this.init();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tconsole.log(this.tableData.code)\r\n\t\t\t\tif (this.tableData.code == 1000) {\r\n\t\t\t\t\tthis.$alert(\"添加成功\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.user.uname = \"\";\r\n\t\t\t\t\tthis.user.gender = \"\";\r\n\t\t\t\t\tthis.user.phone = \"\";\r\n\t\t\t\t\tthis.user.password = \"\";\r\n\t\t\t\t\tthis.user.email = \"\";\r\n\t\t\t\t\tthis.user.userface = \"\";\r\n\t\t\t\t\tthis.imageUrl = \"\";\r\n\t\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\t}\r\n\t\t\t\tif (this.tableData.code == 1003) {\r\n\r\n\t\t\t\t\tthis.$alert(\"手机号存在\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\tif (this.tableData.code == 4000) {\r\n\t\t\t\t\tthis.$alert(this.tableData.msg, {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.tableData.code == 4001) {\r\n\t\t\t\t\tthis.$alert(this.tableData.msg, {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\t// this.onloads();\r\n\t\t\tthis.init(this.current_page, this.page_size)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 34px;\r\n\t\tcolor: rgb(154, 217, 217);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 78px;\r\n\t\theight: 78px;\r\n\t\tline-height: 78px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}