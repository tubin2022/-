{"remainingRequest":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Tubin\\Desktop\\后台\\src\\components\\Basic.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Tubin\\Desktop\\后台\\src\\components\\Basic.vue","mtime":1656344053478},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport qs from 'qs';\nexport default {\n  name: \"dataList\",\n  data: function data() {\n    return {\n      visible: false,\n      tableData1: [],\n      tableData: [],\n      multipleSelection: [],\n      current_page_data: [],\n      current_page: 1,\n      page_size: 5,\n      ids: [],\n      msg: '',\n      totalCount: 1,\n      basicUpdata: {\n        sid: \"\",\n        startCity: \"\",\n        arriveCity: \"\",\n        startTime: \"\",\n        arriveTime: \"\"\n      },\n      shift: {\n        startCity: \"\",\n        endCity: \"\",\n        startTime: \"\",\n        endTime: \"\"\n      },\n      queryShift: {\n        startCity: \"\",\n        endCity: \"\",\n        startTime: \"\",\n        endTime: \"\"\n      }\n    };\n  },\n  methods: {\n    init: function init(n1, n2) {\n      var _this = this; //把vue对象 先保存到第三方变量中\n\n\n      _this.current_page = n1, _this.page_size = n2, this.myAxios.get(\"http://localhost:8888/shift/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" + _this.page_size).then(function (response) {\n        // console.log(response);\n        // console.log(_this.page_size);\n        _this.tableData = response.data.data;\n\n        for (var i = 0; i < _this.tableData.data.length; i++) {\n          _this.tableData.data[i].visible = false;\n        }\n\n        _this.totalCount = response.data.data.total;\n        console.log(_this.tableData); // _this.onloads();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      // 改变每页显示的条数 \n      this.page_size = val; // 注意：在改变每页显示的条数时，要将页码显示到第一页\n\n      this.current_page = 1; // console.log(this.page_size);\n\n      this.init(1, val);\n    },\n    // 显示第几页\n    handleCurrentChange: function handleCurrentChange(val) {\n      // 改变默认的页数\n      this.current_page = val;\n      this.init(this.current_page, this.page_size);\n    },\n    toggleSelection: function toggleSelection(rows) {\n      var _this2 = this;\n\n      if (rows) {\n        rows.forEach(function (row) {\n          _this2.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleSelectionChange: function handleSelectionChange(val) {\n      this.multipleSelection = val;\n      console.log(this.multipleSelection.tableData);\n    },\n    add: function add() {\n      this.visible = !this.visible;\n    },\n    addShift: function addShift() {\n      var _this = this;\n\n      this.myAxios.post('http://localhost:8888/shift/addShift', qs.stringify(_this.shift)).then(function (response) {\n        console.log(response);\n\n        if (response.data == \"success\") {\n          _this.init();\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.$forceUpdate();\n      this.visible = !this.visible;\n    },\n    handleEdit: function handleEdit(index, val) {\n      // console.log(index);\n      // console.log(val);\n      // console.log(val.visible);\n      // val.visible = !val.visible;\n      // console.log(this.tableData.data[index]);\n      this.tableData.data[index].visible = !this.tableData.data[index].visible;\n      this.basicUpdata.sid = this.tableData.data[index].sid;\n      this.basicUpdata.startCity = this.tableData.data[index].startCity;\n      this.basicUpdata.arriveCity = this.tableData.data[index].endCity;\n      this.basicUpdata.startTime = this.tableData.data[index].startTime;\n      this.basicUpdata.arriveTime = this.tableData.data[index].endTime; // console.log(this.basicUpdata);\n\n      this.$forceUpdate();\n    },\n    handleBatchDelete: function handleBatchDelete() {\n      var _this3 = this;\n\n      if (this.multipleSelection.length) {\n        for (var i = 0; i < this.multipleSelection.length; i++) {\n          this.ids[i] = this.multipleSelection[i].sid;\n        }\n      } else {\n        this.$alert(\"请选择数据\", \"提示\", {\n          confirmButtonText: '确定',\n          type: 'info'\n        });\n      }\n\n      var _loop = function _loop(_i) {\n        console.log(_this3.ids[_i]);\n        var _this = _this3; // console.log(sid)\n\n        _this3.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + _this3.ids[_i]).then(function (response) {\n          // console.log(response);\n          // console.log(sid);\n          _this.msg = response.data.msg; // console.log(_this.msg)\n\n          alert(_this.msg);\n\n          if (response.data.code == \"1000\") {\n            _this.init(_this.current_page, _this.page_size); // console.log(2222);\n\n          }\n        }).catch(function (error) {\n          console.log(error); // console.log(sid);\n        });\n\n        _this3.$forceUpdate();\n      };\n\n      for (var _i = 0; _i < this.multipleSelection.length; _i++) {\n        _loop(_i);\n      }\n    },\n    delShift: function delShift(sid) {\n      var _this = this; // console.log(sid)\n\n\n      this.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + sid).then(function (response) {\n        // console.log(response);\n        // console.log(sid);\n        _this.msg = response.data.msg; // console.log(_this.msg)\n\n        alert(_this.msg);\n\n        if (response.data.code == \"1000\") {\n          _this.init(_this.current_page, _this.page_size); // console.log(2222);\n\n        }\n      }).catch(function (error) {\n        console.log(error); // console.log(sid);\n      });\n      this.$forceUpdate();\n    },\n    handleDelete: function handleDelete(index, val) {\n      this.ids[0] = val.id;\n      this.delete();\n    },\n    updataSave: function updataSave(index, val) {\n      // console.log(index);\n      // console.log(val);\n      // console.log(val.visible);\n      // val.visible = !val.visible;\n      // console.log(this.tableData.data[index]);\n      this.tableData.data[index].visible = !this.tableData.data[index].visible;\n\n      var _this = this;\n\n      this.myAxios.post('http://localhost:8888/shift/updateShift', qs.stringify(_this.basicUpdata)).then(function (response) {\n        // console.log(\"1\")\n        // console.log(_this.basicUpdata)\n        // console.log(_this.basicUpdata.endTime)\n        // console.log(response);\n        if (response.data.code == \"1000\") {\n          _this.init(_this.current_page, _this.page_size); // console.log(2222);\n\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.$forceUpdate();\n    },\n    searchShift: function searchShift() {\n      console.log(this.queryShift);\n      var typei = 0;\n      var qurry = \"http://localhost:8888/shift/pageQuery?\" + \"pageNo=\" + this.current_page + \"&pageSize=\" + this.page_size;\n\n      if (this.queryShift.startCity != \"\") {\n        qurry += \"&startCity=\" + this.queryShift.startCity;\n        typei = 1;\n        console.log(\"sb1\");\n      }\n\n      if (this.queryShift.endCity != \"\") {\n        qurry += \"&arriveCity=\" + this.queryShift.endCity;\n        typei = 1;\n        console.log(\"sb2\");\n      }\n\n      if (this.queryShift.startTime != \"\" && this.queryShift.startTime != undefined) {\n        qurry += \"&startTime=\" + this.queryShift.startTime;\n        typei = 1;\n        console.log(\"sb3\");\n      }\n\n      if (this.queryShift.endTime != \"\" && this.queryShift.endTime != undefined) {\n        qurry += \"&arriveime=\" + this.queryShift.endTime;\n        typei = 1;\n        console.log(\"sb4\");\n      }\n\n      console.log(this.queryShift.startCity);\n      console.log(this.queryShift.endCity);\n      console.log(this.queryShift.startTime);\n      console.log(this.queryShift.endTime);\n      console.log(\"typei=\" + typei);\n\n      if (typei == 0) {\n        this.$alert(\"请输入查询条件\", {\n          confirmButtonText: '确定',\n          type: 'warning'\n        });\n        typei = 0;\n      }\n\n      var _this = this; //把vue对象 先保存到第三方变量中\n      // 为给定 ID 的 user 创建请求\n\n\n      this.myAxios.get(qurry).then(function (response) {\n        console.log(response);\n        console.log(_this.page_size);\n        _this.tableData = response.data.data;\n        _this.totalCount = response.data.data.total;\n        console.log(_this.totalCount);\n        console.log(_this.tableData); // if (response.data.code == \"1000\") {\n        // \t_this.init(_this.current_page, _this.page_size);\n        // \t// console.log(2222);\n        // }\n        // _this.onloads();\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.$forceUpdate();\n    }\n  },\n  created: function created() {\n    // this.onloads();\n    this.init(this.current_page, this.page_size);\n  }\n};",{"version":3,"sources":["Basic.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\" height: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t班次基础信息\r\n\t\t</div>\r\n\t\t<el-card>\r\n\t\t\t<div style=\"text-align: center;\">\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"始发站\" v-model=\"queryShift.startCity\" style=\"width:120px;\" clearable>\r\n\t\t\t</el-input>&nbsp;\r\n\t\t\t<el-input type=\"text\" placeholder=\"终点站\" v-model=\"queryShift.endCity\" style=\"width:120px;\" clearable>\r\n\t\t\t</el-input>&nbsp;\r\n\t\t\t<el-date-picker v-model=\"queryShift.startTime\" type=\"date\" placeholder=\"出发时间\"\r\n\t\t\t\tstyle=\"width: 200px\" value-format=\"yyyy-MM-dd\">\r\n\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t<el-date-picker v-model=\"queryShift.endTime\" type=\"date\" placeholder=\"到达时间\"\r\n\t\t\t\tstyle=\"width: 200px\" value-format=\"yyyy-MM-dd\">\r\n\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchShift\">查询</el-button>\r\n\t\t\t<!-- </div>\r\n\t\t\t<div style=\"text-align: center;\"> -->\r\n\t\t\t<el-button  @click=\"add\" v-if=\"!visible\">添加班次</el-button>\r\n\t\t\t<el-button type=\"primary\" @click=\"addShift\" v-if=\"visible\">保存班次\r\n\t\t\t</el-button>\r\n\t\t\t</div><br>\r\n\t\t\t<div style=\"text-align: center;\" v-if=\"visible\">\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"始发站\" v-model=\"shift.startCity\" style=\"width:120px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"终点站\" v-model=\"shift.endCity\" style=\"width:120px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t<el-date-picker v-model=\"shift.startTime\" type=\"datetime\" placeholder=\"出发时间\"\r\n\t\t\t\t\tstyle=\"width: 200px\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n\t\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t\t<el-date-picker v-model=\"shift.endTime\" type=\"datetime\" placeholder=\"到达时间\"\r\n\t\t\t\t\tstyle=\"width: 200px\" value-format=\"yyyy-MM-dd HH:mm:ss\">\r\n\t\t\t\t</el-date-picker>&nbsp;<br>\r\n\t\t\t</div>\r\n\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData.data\" stripe :default-sort=\"{prop:'date',order:'descending'}\"\r\n\t\t\t\ttooltip-effect=\"dark\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\"\r\n\t\t\t\t:header-cell-style=\"{'text-align':'center'}\" :cell-style=\"{'text-align':'center'}\">\r\n\t\t\t\t\r\n\t\t\t\t<el-table-column fixed=\"left\" type=\"selection\" width=\"55\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column sortable label=\"班次\" width=\"90\" prop=\"sid\" >\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.sid }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.sid\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startCity\" label=\"始发站\" sortable width=\"90px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.startCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.startCity\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endCity\" label=\"终点站\" width=\"90px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.endCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.arriveCity\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startTime\" label=\"出发时间\" width=\"290px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.startTime | dateFormat('YYYY-MM-DD HH:mm:ss')}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-date-picker v-model=\"basicUpdata.startTime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70%;\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endTime\" label=\"到达时间\" width=\"290px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.endTime | dateFormat('YYYY-MM-DD HH:mm:ss')}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-date-picker v-model=\"basicUpdata.arriveTime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n\t\t\t\t\t\t\tstyle=\"width: 70%;\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"200\" fixed=\"right\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"success\" v-if=\"scope.row.visible\" size=\"mini\"\r\n\t\t\t\t\t\t\t@click=\"updataSave(scope.$index, scope.row)\">确定</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" v-if=\"!scope.row.visible\" @click=\"handleEdit(scope.$index, scope.row)\">编辑\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"delShift(scope.row.sid)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div style=\"margin-top: 20px;text-align: center;\">\r\n\t\t\t\t<el-button @click=\"toggleSelection()\">取消选择</el-button>\r\n\t\t\t\t<el-button type=\"warning\" @click=\"handleBatchDelete\">批量删除</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"text-align: center;margin-top: 20px;\">\r\n\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t:current-page=\"current_page\" :page-sizes=\"[4,5,6,7]\" :page-size.sync=\"page_size\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalCount\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport qs from 'qs';\r\n\texport default {\r\n\t\tname: \"dataList\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\ttableData1: [],\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tcurrent_page_data: [],\r\n\t\t\t\tcurrent_page: 1,\r\n\t\t\t\tpage_size: 5,\r\n\t\t\t\tids: [],\r\n\t\t\t\tmsg:'',\r\n\t\t\t\ttotalCount: 1,\r\n\t\t\t\tbasicUpdata: {\r\n\t\t\t\t\tsid: \"\",\r\n\t\t\t\t\tstartCity: \"\",\r\n\t\t\t\t\tarriveCity: \"\",\r\n\t\t\t\t\tstartTime: \"\",\r\n\t\t\t\t\tarriveTime: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tshift:{\r\n\t\t\t\t\tstartCity:\"\",\r\n\t\t\t\t\tendCity:\"\",\r\n\t\t\t\t\tstartTime:\"\",\r\n\t\t\t\t\tendTime:\"\"\r\n\t\t\t\t},\r\n\t\t\t\tqueryShift:{\r\n\t\t\t\t\tstartCity:\"\",\r\n\t\t\t\t\tendCity:\"\",\r\n\t\t\t\t\tstartTime:\"\",\r\n\t\t\t\t\tendTime:\"\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(n1, n2) {\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t_this.current_page = n1,\r\n\t\t\t\t\t_this.page_size = n2,\r\n\t\t\t\t\tthis.myAxios.get(\"http://localhost:8888/shift/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" +\r\n\t\t\t\t\t\t_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < _this.tableData.data.length; i++) {\r\n\t\t\t\t\t\t\t_this.tableData.data[i].visible = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\t// 改变每页显示的条数 \r\n\t\t\t\tthis.page_size = val\r\n\t\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t\tthis.current_page = 1\r\n\t\t\t\t// console.log(this.page_size);\r\n\t\t\t\tthis.init(1, val)\r\n\t\t\t},\r\n\t\t\t// 显示第几页\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\t// 改变默认的页数\r\n\t\t\t\tthis.current_page = val;\r\n\t\t\t\tthis.init(this.current_page, this.page_size);\r\n\t\t\t},\r\n\t\t\ttoggleSelection(rows) {\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\trows.forEach(row => {\r\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t\tconsole.log(this.multipleSelection.tableData)\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tadd() {\r\n\t\t\t\tthis.visible = !this.visible;\r\n\t\t\t},\r\n\t\t\taddShift() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/addShift',\r\n\t\t\t\tqs.stringify(_this.shift))\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.data == \"success\") {\r\n\t\t\t\t\t\t\t_this.init();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\tthis.visible = !this.visible;\r\n\t\t\t},\r\n\t\t\thandleEdit(index, val) {\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\t// console.log(val);\r\n\t\t\t\t// console.log(val.visible);\r\n\t\t\t\t// val.visible = !val.visible;\r\n\r\n\t\t\t\t// console.log(this.tableData.data[index]);\r\n\t\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\r\n\t\t\t\tthis.basicUpdata.sid = this.tableData.data[index].sid\r\n\t\t\t\tthis.basicUpdata.startCity = this.tableData.data[index].startCity\r\n\t\t\t\tthis.basicUpdata.arriveCity = this.tableData.data[index].endCity\r\n\t\t\t\tthis.basicUpdata.startTime = this.tableData.data[index].startTime\r\n\t\t\t\tthis.basicUpdata.arriveTime = this.tableData.data[index].endTime\r\n\t\t\t\t// console.log(this.basicUpdata);\r\n\t\t\t\tthis.$forceUpdate()\r\n\r\n\t\t\t},\r\n\t\t\thandleBatchDelete() {\r\n\t\t\t\tif (this.multipleSelection.length) {\r\n\t\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\r\n\t\t\t\t\t\tthis.ids[i] = this.multipleSelection[i].sid;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$alert(\"请选择数据\", \"提示\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tfor(let i = 0; i < this.multipleSelection.length; i++){\r\n\t\t\t\t    console.log(this.ids[i]);\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\t// console.log(sid)\r\n\t\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid='+this.ids[i])\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t\t_this.msg = response.data.msg\r\n\t\t\t\t\t\t\t// console.log(_this.msg)\r\n\t\t\t\t\t\t\talert(_this.msg)\r\n\t\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelShift(sid) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// console.log(sid)\r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid='+sid)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t_this.msg = response.data.msg\r\n\t\t\t\t\t\t// console.log(_this.msg)\r\n\t\t\t\t\t\talert(_this.msg)\r\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\thandleDelete(index, val) {\r\n\t\t\t\tthis.ids[0] = val.id;\r\n\t\t\t\tthis.delete();\r\n\t\t\t},\r\n\t\t\tupdataSave(index, val) {\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\t// console.log(val);\r\n\t\t\t\t// console.log(val.visible);\r\n\t\t\t\t// val.visible = !val.visible;\r\n\r\n\t\t\t\t// console.log(this.tableData.data[index]);\r\n\t\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/updateShift',\r\n\t\t\t\t\t qs.stringify(_this.basicUpdata))\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(\"1\")\r\n\t\t\t\t\t\t// console.log(_this.basicUpdata)\r\n\t\t\t\t\t\t// console.log(_this.basicUpdata.endTime)\r\n\t\t\t\t\t\t    // console.log(response);\r\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t// console.log(2222);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.$forceUpdate()\r\n\r\n\t\t\t},\r\n\t\t\tsearchShift(){\r\n\t\t\t\tconsole.log(this.queryShift);\r\n\t\t\t\t\tlet typei=0;\r\n\t\t\t\t\tlet qurry =\"http://localhost:8888/shift/pageQuery?\"+\"pageNo=\"+this.current_page+\"&pageSize=\"+this.page_size;\r\n\t\t\t\t\tif(this.queryShift.startCity!=\"\"){\r\n\t\t\t\t\t\tqurry+=\"&startCity=\"+this.queryShift.startCity;\r\n\t\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\t\tconsole.log(\"sb1\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.queryShift.endCity!=\"\" ){\r\n\t\t\t\t\t\tqurry+=\"&arriveCity=\"+this.queryShift.endCity;\r\n\t\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\t\tconsole.log(\"sb2\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.queryShift.startTime!=\"\" &&this.queryShift.startTime!=undefined){\r\n\t\t\t\t\t\tqurry+=\"&startTime=\"+this.queryShift.startTime;\r\n\t\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\t\tconsole.log(\"sb3\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.queryShift.endTime!=\"\" &&this.queryShift.endTime!=undefined){\r\n\t\t\t\t\t\tqurry+=\"&arriveime=\"+this.queryShift.endTime;\r\n\t\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\t\tconsole.log(\"sb4\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(this.queryShift.startCity);\r\n\t\t\t\t\tconsole.log(this.queryShift.endCity);\r\n\t\t\t\t\tconsole.log(this.queryShift.startTime);\r\n\t\t\t\t\tconsole.log(this.queryShift.endTime);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"typei=\"+typei);\r\n\t\t\t\t\tif(typei==0){\r\n\t\t\t\t\t\tthis.$alert(\"请输入查询条件\", {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\ttypei =0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\t\tthis.myAxios.get(qurry)\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tconsole.log(_this.page_size);\r\n\t\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\t\t_this.totalCount=response.data.data.total;\r\n\t\t\t\t\t\t\tconsole.log(_this.totalCount)\r\n\t\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t\t// if (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t// \t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t// \t// console.log(2222);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\t// this.onloads();\r\n\t\t\tthis.init(this.current_page, this.page_size)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 34px;\r\n\t\tcolor: rgb(154, 217, 217);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/components"}]}