{"remainingRequest":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Tubin\\Desktop\\后台\\src\\components\\Boat.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Tubin\\Desktop\\后台\\src\\components\\Boat.vue","mtime":1656346781457},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\Tubin\\Desktop\\后台\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport qs from 'qs';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tboatId:'',\n\t\t\timageUrl: '',\n\t\t\tvisible: false,\n\t\t\ttableData: [],\n\t\t\tcurrent_page_data: [],\n\t\t\tcurrent_page: 1,\n\t\t\tpage_size: 3,\n\t\t\tmultipleSelection: [],\n\t\t\tids: [],\n\t\t\ttotalCount: 1,\n\t\t\tuser: {\n\t\t\t\tuname: \"\",\n\t\t\t\tgender: \"\",\n\t\t\t\tphone: \"\",\n\t\t\t\tpassword:\"\",\n\t\t\t\temail: \"\",\n\t\t\t\tuserface: \"\",\n\t\t\t},\n\t\t\tboat:{\n\t\t\t\tbname:\"\",\n\t\t\t\tbphoto:\"\",\n\t\t\t\tmaxPeople:\"\",\n\t\t\t\tproduceDate:\"\",\n\t\t\t\tprofile:\"\",\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tinit(n1, n2) {\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\t_this.current_page = n1,\n\t\t\t\t_this.page_size = n2,\n\t\t\t\t// 为给定 ID 的 user 创建请求\n\t\t\t\tthis.myAxios.get(\"http://localhost:8888/boat/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" +\n\t\t\t\t\t_this.page_size)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tconsole.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\t\t\t\t\t_this.totalCount = response.data.data.total;\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t\thandleSizeChange(val) {\n\t\t\t// 改变每页显示的条数 \n\t\t\tthis.page_size = val\n\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\n\t\t\tthis.current_page = 1\n\t\t\t// console.log(this.page_size);\n\t\t\tthis.init(1, val)\n\t\t},\n\t\t// 显示第几页\n\t\thandleCurrentChange(val) {\n\t\t\t// 改变默认的页数\n\t\t\tthis.current_page = val;\n\t\t\tthis.init(this.current_page, this.page_size);\n\t\t},\n\t\tqueryBoat(){\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\t// 为给定 ID 的 user 创建请求\n\t\t\tif(this.boatId == \"\")\n\t\t\t{\n\t\t\t\tthis.$alert(\"请输入轮船编号\", {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\tthis.myAxios.get(\"http://localhost:8888/boat/pageQuery?bid=\"+_this.boatId+\"&pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tconsole.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\t\t\t\t\t_this.totalCount=response.data.data.total;\n\t\t\t\t\tconsole.log(\"总数\"+_this.totalCount)\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t\tthis.$forceUpdate()\n\t\t},\n\t\tadd() {\n\t\t\tthis.visible = !this.visible;\n\t\t},\n\t\tdelBoat(bid) {\n\t\t\tlet _this = this\n\t\t\t// console.log(sid)\n\t\t\tthis.myAxios.post('http://localhost:8888/boat/deleteById?id='+bid)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\t// console.log(sid);\n\t\t\t\t\t_this.msg = response.data.msg\n\t\t\t\t\t// console.log(_this.msg)\n\t\t\t\t\talert(_this.msg)\n\t\t\t\t\tif (response.data.code == \"1000\") {\n\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\n\t\t\t\t\t\t// console.log(2222);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t// console.log(sid);\n\t\t\t\t});\n\t\t\t\tthis.$forceUpdate()\n\t\t},\n\t\thandleAvatarSuccess(res, file) {\n\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\n\t\t\t// console.log(imageUrl)\n\t\t\tconsole.log(res.data.url)\n\t\t\tthis.boat.bphoto = res.data.url\n\t\t},\n\t\tbeforeAvatarUpload(file) {\n\t\t\tconst isJPG = file.type === 'image/jpeg';\n\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\n\n\t\t\tif (!isJPG) {\n\t\t\t\tthis.$message.error('上传头像图片只能是 JPG 格式!');\n\t\t\t}\n\t\t\tif (!isLt2M) {\n\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\n\t\t\t}\n\t\t\treturn isJPG && isLt2M;\n\t\t},\n\t\thandleSelectionChange(val) {\n\t\t\tthis.multipleSelection = val;\n\t\t},\n\t\taddBoat() {\n\t\t\tlet _this = this\n\t\t\t// \n\t\t\tthis.myAxios.post('http://localhost:8888/boat/addBoat',\n\t\t\tqs.stringify(_this.boat))\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tif (response.data == \"success\") {\n\t\t\t\t\t\t_this.init();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\tthis.visible = !this.visible;\n\t\t},\n\t},\n\tcreated() {\n\n\t\t// this.onloads();\n\t\tthis.init(this.current_page, this.page_size)\n\t}\n}\n",{"version":3,"sources":["Boat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Boat.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div style=\" height: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t渡轮管理\r\n\t\t</div>\r\n\t\t<div style=\"text-align: center;margin: 0 auto;\">\r\n\t\t\t<el-card class=\"center\" align=\"center\" style=\"margin: auto;width: 100%;\">\r\n\t\t\t\t\t<el-input\r\n\t\t\t\t  placeholder=\"请输入渡轮编号\"\r\n\t\t\t\t  v-model=\"boatId\"\r\n\t\t\t\t  clearable\r\n\t\t\t\t  style=\"width: 300px;\">\r\n\t\t\t\t</el-input>&nbsp;&nbsp;\r\n\t\t\t\t<el-button type=\"primary\" @click=\"queryBoat\">查询</el-button><br>\r\n\t\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData.data\" stripe\r\n\t\t\t\t\t:default-sort=\"{prop:'date',order:'descsexing'}\" tooltip-effect=\"dark\"\r\n\t\t\t\t\tstyle=\"width: 100%;text-align: center;margin: auto;\" @selection-change=\"handleSelectionChange\">\r\n\t\t\t\t\t<el-table-column sortable label=\"渡轮编号\" width=\"120\" prop=\"bid\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.bid }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.bid\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"bname\" label=\"渡轮名称\" sortable width=\"120\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.bname }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.bname\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"produceDate\" label=\"出厂时间\" width=\"190px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.produceDate | dateFormat('YYYY-MM-DD')}}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.produceDate\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\r\n\t\t\t\t\t</el-table-column>\r\n\r\n\t\t\t\t\t<el-table-column prop=\"maxPeople\" label=\"核载人数\" width=\"140px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.maxPeople }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.maxPeople\" style=\"width: 130px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<el-table-column prop=\"bphoto\" label=\"渡轮图片\" width=\"150px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<!-- <img :src=\"require('{{ scope.row.bphoto }}')\"> -->\r\n\t\t\t\t\t\t\t<el-popover placement=\"top-start\" title=\"\" trigger=\"hover\">\r\n\t\t\t\t\t\t\t\t<img :src=\"scope.row.bphoto\" alt=\"\" style=\"width: 200px;height: 200px\">\r\n\t\t\t\t\t\t\t\t<el-avatar slot=\"reference\" :src=\"scope.row.bphoto\" style=\"width: 70px;height: 70px\" shape=\"square\"\r\n\t\t\t\t\t\t\t\tfit=\"cover\">\r\n\t\t\t\t\t\t\t\t</el-avatar>\r\n\t\t\t\t\t\t\t</el-popover>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.bphoto\" style=\"width: 190px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column prop=\"profile\" label=\"渡轮简介\" width=\"300px\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t\t{{ scope.row.profile }}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<el-input v-model=\"scope.row.profile\" style=\"width: 160px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t<el-table-column label=\"操作\" width=\"100\" fixed=\"right\">\r\n\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"delBoat(scope.row.bid)\">删除</el-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-table-column>\r\n\t\t\t\t</el-table><br>\r\n\t\t\t\t<div style=\"text-align: center;\" v-if=\"visible\">\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"渡轮名称\" v-model=\"boat.bname\" style=\"width:135px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t\t<el-input type=\"text\" placeholder=\"渡轮最大载人数\" v-model=\"boat.maxPeople\" style=\"width:145px;\" clearable>\r\n\t\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t\t<el-date-picker v-model=\"boat.produceDate\" type=\"date\" placeholder=\"选择日期时间\"\r\n\t\t\t\t\t\tstyle=\"width: 230px;\" value-format=\"yyyy-MM-dd\" clearable>\r\n\t\t\t\t\t</el-date-picker>&nbsp;<br><br>\r\n\t\t\t\t\t<el-input type=\"textarea\" placeholder=\"渡轮简介\" v-model=\"boat.profile\" style=\"width: 530px;\" clearable :autosize=\"{ minRows: 2, maxRows: 5}\">\r\n\t\t\t\t\t</el-input>&nbsp;<br />\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<span style=\"color: #000000;\">渡轮图片</span>\r\n\t\t\t\t\t<el-upload style=\"margin: auto;width: 90px;\" class=\"avatar-uploader\" action=\"http://localhost:8888/file/upload\"\r\n\t\t\t\t\t\t:show-file-list=\"false\" :on-success=\"handleAvatarSuccess\">\r\n\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\r\n\t\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-top: 20px;text-align: center;\">\r\n\t\t\t\t\t<el-button type='success' @click=\"add\" v-if=\"!visible\">添加渡轮</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"addBoat\" v-if=\"visible\">保存信息\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"text-align: center;margin-top: 20px;\">\r\n\t\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t\t:current-page=\"current_page\" :page-sizes=\"[2,3,4,5]\" :page-size.sync=\"page_size\"\r\n\t\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalCount\">\r\n\t\t\t\t\t</el-pagination>\r\n\t\t\t\t</div>\r\n\t\t\t</el-card>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport qs from 'qs';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tboatId:'',\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tvisible: false,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcurrent_page_data: [],\r\n\t\t\t\tcurrent_page: 1,\r\n\t\t\t\tpage_size: 3,\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tids: [],\r\n\t\t\t\ttotalCount: 1,\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tuname: \"\",\r\n\t\t\t\t\tgender: \"\",\r\n\t\t\t\t\tphone: \"\",\r\n\t\t\t\t\tpassword:\"\",\r\n\t\t\t\t\temail: \"\",\r\n\t\t\t\t\tuserface: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tboat:{\r\n\t\t\t\t\tbname:\"\",\r\n\t\t\t\t\tbphoto:\"\",\r\n\t\t\t\t\tmaxPeople:\"\",\r\n\t\t\t\t\tproduceDate:\"\",\r\n\t\t\t\t\tprofile:\"\",\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(n1, n2) {\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t_this.current_page = n1,\r\n\t\t\t\t\t_this.page_size = n2,\r\n\t\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\t\tthis.myAxios.get(\"http://localhost:8888/boat/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" +\r\n\t\t\t\t\t\t_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tconsole.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\t// 改变每页显示的条数 \r\n\t\t\t\tthis.page_size = val\r\n\t\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t\tthis.current_page = 1\r\n\t\t\t\t// console.log(this.page_size);\r\n\t\t\t\tthis.init(1, val)\r\n\t\t\t},\r\n\t\t\t// 显示第几页\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\t// 改变默认的页数\r\n\t\t\t\tthis.current_page = val;\r\n\t\t\t\tthis.init(this.current_page, this.page_size);\r\n\t\t\t},\r\n\t\t\tqueryBoat(){\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\tif(this.boatId == \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.$alert(\"请输入轮船编号\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.myAxios.get(\"http://localhost:8888/boat/pageQuery?bid=\"+_this.boatId+\"&pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tconsole.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\t_this.totalCount=response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(\"总数\"+_this.totalCount)\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\tadd() {\r\n\t\t\t\tthis.visible = !this.visible;\r\n\t\t\t},\r\n\t\t\tdelBoat(bid) {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// console.log(sid)\r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/boat/deleteById?id='+bid)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t_this.msg = response.data.msg\r\n\t\t\t\t\t\t// console.log(_this.msg)\r\n\t\t\t\t\t\talert(_this.msg)\r\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\thandleAvatarSuccess(res, file) {\r\n\t\t\t\tthis.imageUrl = URL.createObjectURL(file.raw);\r\n\t\t\t\t// console.log(imageUrl)\r\n\t\t\t\tconsole.log(res.data.url)\r\n\t\t\t\tthis.boat.bphoto = res.data.url\r\n\t\t\t},\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!isJPG) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG 格式!');\r\n\t\t\t\t}\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isJPG && isLt2M;\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t},\r\n\t\t\taddBoat() {\r\n\t\t\t\tlet _this = this\r\n\t\t\t\t// \r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/boat/addBoat',\r\n\t\t\t\tqs.stringify(_this.boat))\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.data == \"success\") {\r\n\t\t\t\t\t\t\t_this.init();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.visible = !this.visible;\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\t// this.onloads();\r\n\t\t\tthis.init(this.current_page, this.page_size)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 34px;\r\n\t\tcolor: rgb(154, 217, 217);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409EFF;\r\n\t}\r\n\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 78px;\r\n\t\theight: 78px;\r\n\t\tline-height: 78px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 178px;\r\n\t\theight: 178px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n"]}]}