{"remainingRequest":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\src\\components\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\src\\components\\Order.vue","mtime":1656517626689},{"path":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"D:\\大三实训\\实训项目（在线渡轮购票微信小程序）\\后台最终版0705\\后台最终版\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tname:\"dataList\",\n\tdata() {\n\t\treturn {\n\t\t\tvisible: false,\n\t\t\ttableData: [],\n\t\t\tcurrent_page_data: [],\n\t\t\tcurrent_page: 1,\n\t\t\tpage_size: 10,\n\t\t\tmultipleSelection: [],\n\t\t\tids: [],\n\t\t\ttotalCount: 1,\n\t\t\tinput:''\n\t\t}\n\t},\n\t\n\tmethods: {\n\t\t\n\t\tinit(n1, n2) {\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\t_this.current_page = n1,\n\t\t\t\t_this.page_size = n2,\n\t\t\t\t// 为给定 ID 的 user 创建请求\n\t\t\t\tthis.myAxios.get(\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\t// console.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\t\t\t\t\tconsole.log(_this.tableData)\n\t\t\t\t\t_this.totalCount = response.data.data.total;\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t},\n\t\thandleSizeChange(val) {\n\t\t\t// 改变每页显示的条数 \n\t\t\tthis.page_size = val\n\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\n\t\t\tthis.current_page = 1\n\t\t\t// console.log(this.page_size);\n\t\t\tthis.init(1, val)\n\t\t},\n\t\t// 显示第几页\n\t\thandleCurrentChange(val) {\n\t\t\t// 改变默认的页数\n\t\t\tthis.current_page = val;\n\t\t\tthis.init(this.current_page, this.page_size);\n\t\t},\n\n\t\ttoggleSelection(rows) {\n\t\t\tif (rows) {\n\t\t\t\trows.forEach(row => {\n\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.$refs.multipleTable.clearSelection();\n\t\t\t}\n\t\t},\n\t\thandleSelectionChange(val) {\n\t\t\tthis.multipleSelection = val;\n\n\t\t},\n\t\t\n\t\thandleBatchDelete() {\n\t\t\tif (this.multipleSelection.length) {\n\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\t\tthis.ids[i] = this.multipleSelection[i].id;\n\t\t\t\t}\n\t\t\t\tthis.delete();\n\n\t\t\t} else {\n\t\t\t\tthis.$alert(\"请选择数据\", \"提示\", {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'info',\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tquery(){\n\t\t\t// console.log(this.input);\n\t\t\tif(this.input == \"\")\n\t\t\t{\n\t\t\t\tthis.$alert(\"请输入船票编号\", {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\tlet qurryn=\"\";\n\t\t\t\t// 为给定 ID 的 user 创建请求\n\t\t\t\tif(_this.input == null)\n\t\t\t\t{\n\t\t\t\t\tqurryn=\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size;\n\t\t\t\t}else{\n\t\t\t\t\tqurryn=\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size+\"&tid=\"+_this.input;\n\t\t\t\t}\n\t\t\t\t_this.myAxios.get(qurryn).then(function(response) {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\t// console.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\t\t\t\t\tconsole.log(_this.tableData)\n\t\t\t\t\t_this.totalCount = response.data.data.total;\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t\tif(_this.totalCount==0)\n\t\t\t\t\t{\t\t\t\t\t\t\n\t\t\t\t\t\t_this.$alert(\"未查询到该班次\", {\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}).catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\t\t_this.$forceUpdate();\n\t\t}\n\t},\n\tcreated() {\n\t\n\t\t// this.onloads();\n\t\tthis.init(this.current_page, this.page_size)\n\t}\n}\n",{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div style=\" height: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t订单管理\r\n\t\t</div>\r\n\t\t<el-card style=\"text-align: center;\">\r\n\t\t\t<el-input\r\n\t\t\t  placeholder=\"请输入船票编号\"\r\n\t\t\t  v-model=\"input\"\r\n\t\t\t  clearable\r\n\t\t\t  style=\"width: 300px;\">\r\n\t\t\t</el-input>&nbsp;\r\n\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"query\">查询</el-button><br>\r\n\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData.data\" stripe\r\n\t\t\t\t:default-sort=\"{prop:'date',order:'descending'}\" tooltip-effect=\"dark\" style=\"width: 100%\"\r\n\t\t\t\t@selection-change=\"handleSelectionChange\"\r\n\t\t\t\t:header-cell-style=\"{'text-align':'center'}\"\r\n\t\t\t\t:cell-style=\"{'text-align':'center'}\">\r\n\t\t\t\t<el-table-column sortable label=\"订单号\" width=\"120\" prop=\"oid\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.oid }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column sortable label=\"船票编号\" width=\"120\" prop=\"tid\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.tid }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"乘客姓名\" width=\"120\" prop=\"user.uname\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.user.uname }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column sortable label=\"票价\" width=\"120\" prop=\"price\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.price }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startCity\" label=\"始发站\" width=\"120px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.startCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endCity\" label=\"终点站\" width=\"120px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.endCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startTime\" label=\"出发时间\" width=\"220px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{ scope.row.startTime }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endTime\" label=\"到达时间\" width=\"220px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t{{scope.row.endTime}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t\r\n\t\t\t</el-table>\r\n\t\t\t<div style=\"text-align: center;margin-top: 20px;\">\r\n\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t:current-page=\"current_page\" :page-sizes=\"[9,10,11,12]\" :page-size.sync=\"page_size\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalCount\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname:\"dataList\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tcurrent_page_data: [],\r\n\t\t\t\tcurrent_page: 1,\r\n\t\t\t\tpage_size: 10,\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tids: [],\r\n\t\t\t\ttotalCount: 1,\r\n\t\t\t\tinput:''\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tinit(n1, n2) {\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t_this.current_page = n1,\r\n\t\t\t\t\t_this.page_size = n2,\r\n\t\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\t\tthis.myAxios.get(\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\tconsole.log(_this.tableData)\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\t// 改变每页显示的条数 \r\n\t\t\t\tthis.page_size = val\r\n\t\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t\tthis.current_page = 1\r\n\t\t\t\t// console.log(this.page_size);\r\n\t\t\t\tthis.init(1, val)\r\n\t\t\t},\r\n\t\t\t// 显示第几页\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\t// 改变默认的页数\r\n\t\t\t\tthis.current_page = val;\r\n\t\t\t\tthis.init(this.current_page, this.page_size);\r\n\t\t\t},\r\n\r\n\t\t\ttoggleSelection(rows) {\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\trows.forEach(row => {\r\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleBatchDelete() {\r\n\t\t\t\tif (this.multipleSelection.length) {\r\n\t\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\r\n\t\t\t\t\t\tthis.ids[i] = this.multipleSelection[i].id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.delete();\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$alert(\"请选择数据\", \"提示\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tquery(){\r\n\t\t\t\t// console.log(this.input);\r\n\t\t\t\tif(this.input == \"\")\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.$alert(\"请输入船票编号\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\tlet qurryn=\"\";\r\n\t\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\t\tif(_this.input == null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tqurryn=\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tqurryn=\"http://localhost:8888/order/pageQuery?pageNo=\"+_this.current_page+\"&pageSize=\"+_this.page_size+\"&tid=\"+_this.input;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.myAxios.get(qurryn).then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\tconsole.log(_this.tableData)\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t\tif(_this.totalCount==0)\r\n\t\t\t\t\t\t{\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_this.$alert(\"未查询到该班次\", {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t_this.$forceUpdate();\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\r\n\t\t\t// this.onloads();\r\n\t\t\tthis.init(this.current_page, this.page_size)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 34px;\r\n\t\tcolor: rgb(154, 217, 217);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n</style>\r\n"]}]}