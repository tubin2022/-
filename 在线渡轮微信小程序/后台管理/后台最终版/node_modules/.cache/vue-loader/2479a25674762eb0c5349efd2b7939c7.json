{"remainingRequest":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\src\\components\\Basic.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\src\\components\\Basic.vue","mtime":1656486430370},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\node_modules\\babel-loader\\lib\\index.js","mtime":1654243319214},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654243311876},{"path":"C:\\Users\\孤岛蓝鲸\\Desktop\\后台最终版\\node_modules\\vue-loader\\lib\\index.js","mtime":1654243317945}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport qs from 'qs';\nexport default {\n\tname: \"dataList\",\n\tdata() {\n\t\treturn {\n\t\t\tvisible: false,\n\t\t\ttableData1: [],\n\t\t\ttableData: [],\n\t\t\tmultipleSelection: [],\n\t\t\tdialogVisible: false,\n\t\t\tcurrent_page_data: [],\n\t\t\tcurrent_page: 1,\n\t\t\tpage_size: 9,\n\t\t\tids: [],\n\t\t\tmsg: '',\n\t\t\ttotalCount: 1,\n\t\t\tbasicUpdata: {\n\t\t\t\tsid: \"\",\n\t\t\t\tstartCity: \"\",\n\t\t\t\tarriveCity: \"\",\n\t\t\t\tstartTime: \"\",\n\t\t\t\tarriveTime: \"\",\n\t\t\t},\n\t\t\tshift: {\n\t\t\t\tstartCity: \"\",\n\t\t\t\tendCity: \"\",\n\t\t\t\tstartTime: \"\",\n\t\t\t\tendTime: \"\"\n\t\t\t},\n\t\t\tqueryShift: {\n\t\t\t\tstartCity: \"\",\n\t\t\t\tendCity: \"\",\n\t\t\t\tstartTime: \"\",\n\t\t\t\tendTime: \"\"\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tinit(n1, n2) {\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\t_this.current_page = n1,\n\t\t\t\t_this.page_size = n2,\n\t\t\t\tthis.myAxios.get(\"http://localhost:8888/shift/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" +\n\t\t\t\t\t_this.page_size)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\t// console.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\n\t\t\t\t\tfor (var i = 0; i < _this.tableData.data.length; i++) {\n\t\t\t\t\t\t_this.tableData.data[i].visible = false\n\t\t\t\t\t}\n\t\t\t\t\t_this.totalCount = response.data.data.total;\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\n\n\t\t},\n\t\thandleClose(done) {\n\t\t\tthis.$confirm('确认关闭？')\n\t\t\t\t.then(_ => {\n\t\t\t\t\tdone();\n\t\t\t\t\tthis.shift.endCity = \"\";\n\t\t\t\t\tthis.shift.startCity = \"\";\n\t\t\t\t\tthis.shift.startTime = \"\";\n\t\t\t\t\tthis.shift.endTime = \"\";\n\t\t\t\t})\n\t\t\t\t.catch(_ => {});\n\t\t},\n\t\thandleSizeChange(val) {\n\t\t\t// 改变每页显示的条数 \n\t\t\tthis.page_size = val\n\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\n\t\t\tthis.current_page = 1\n\t\t\t// console.log(this.page_size);\n\t\t\tthis.init(1, val)\n\t\t},\n\t\t// 显示第几页\n\t\thandleCurrentChange(val) {\n\t\t\t// 改变默认的页数\n\t\t\tthis.current_page = val;\n\t\t\tthis.init(this.current_page, this.page_size);\n\t\t},\n\t\ttoggleSelection(rows) {\n\t\t\tif (rows) {\n\t\t\t\trows.forEach(row => {\n\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.$refs.multipleTable.clearSelection();\n\t\t\t}\n\t\t},\n\t\thandleSelectionChange(val) {\n\t\t\tthis.multipleSelection = val;\n\t\t\tconsole.log(this.multipleSelection.tableData)\n\n\t\t},\n\t\tadd() {\n\t\t\tthis.visible = !this.visible;\n\n\t\t},\n\t\taddShift() {\n\t\t\tif (this.shift.endCity == \"\" ||\n\t\t\t\tthis.shift.startCity == \"\" ||\n\t\t\t\tthis.shift.startTime == \"\" ||\n\t\t\t\tthis.shift.endTime == \"\") {\n\t\t\t\tif (this.shift.endCity == \"\" &&\n\t\t\t\t\tthis.shift.startCity == \"\" &&\n\t\t\t\t\tthis.shift.startTime == \"\" &&\n\t\t\t\t\tthis.shift.endTime == \"\") {\n\t\t\t\t\tthis.$alert(\"添加数据为空\", \"提示\", {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$alert(\"请输入完整数据\", \"提示\", {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else if (this.shift.endCity != \"\" &&\n\t\t\t\tthis.shift.startCity != \"\" &&\n\t\t\t\tthis.shift.startTime != \"\" &&\n\t\t\t\tthis.shift.endTime != \"\") {\n\t\t\t\t\tif(this.shift.startTime>this.shift.endTime){\n\t\t\t\t\t\tthis.$alert(\"到达时间应晚于出发时间\", \"提示\", {\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet _this = this\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/addShift',\n\t\t\t\t\t\tqs.stringify(_this.shift))\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\tif (response.data == \"success\") {\n\t\t\t\t\t\t\t_this.init();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\n\t\t\t\t\t\t\t_this.$alert(\"添加成功\", \"提示\", {\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this.shift.endCity = \"\";\n\t\t\t\t\t\t\t_this.shift.startCity = \"\";\n\t\t\t\t\t\t\t_this.shift.startTime = \"\";\n\t\t\t\t\t\t\t_this.shift.endTime = \"\";\n\t\t\t\t\t\t\t_this.dialogVisible = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t});\n\t\t\t\tthis.$forceUpdate()\n\t\t\t\t\t}\n\t\t\t\t\n\n\t\t\t}\n\n\t\t},\n\t\thandleEdit(index, val) {\n\t\t\t// console.log(index);\n\t\t\t// console.log(val);\n\t\t\t// console.log(val.visible);\n\t\t\t// val.visible = !val.visible;\n\n\t\t\t// console.log(this.tableData.data[index]);\n\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\n\t\t\tthis.basicUpdata.sid = this.tableData.data[index].sid\n\t\t\tthis.basicUpdata.startCity = this.tableData.data[index].startCity\n\t\t\tthis.basicUpdata.arriveCity = this.tableData.data[index].endCity\n\t\t\tthis.basicUpdata.startTime = this.tableData.data[index].startTime\n\t\t\tthis.basicUpdata.arriveTime = this.tableData.data[index].endTime\n\t\t\t// console.log(this.basicUpdata);\n\t\t\tthis.$forceUpdate()\n\n\t\t},\n\t\thandleBatchDelete() {\n\t\t\tif (this.multipleSelection.length) {\n\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\t\tthis.ids[i] = this.multipleSelection[i].sid;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$alert(\"请选择数据\", \"提示\", {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'info',\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\n\t\t\t\tconsole.log(this.ids[i]);\n\t\t\t\tlet _this = this\n\t\t\t\t// console.log(sid)\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + this.ids[i])\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t// console.log(response);\n\t\t\t\t\t\t// console.log(sid);\n\t\t\t\t\t\t_this.msg = response.data.msg\n\t\t\t\t\t\t// console.log(_this.msg)\n\t\t\t\t\t\talert(_this.msg)\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\n\t\t\t\t\t\t\t// console.log(2222);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t// console.log(sid);\n\t\t\t\t\t});\n\t\t\t\tthis.$forceUpdate()\n\t\t\t}\n\t\t},\n\t\tdelShift(sid) {\n\t\t\tthis.$confirm('是否删除班次为' + sid + \"的航班\", '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tlet _this = this\n\t\t\t\t// console.log(sid)\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + sid)\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t// console.log(response);\n\t\t\t\t\t\t// console.log(sid);\n\t\t\t\t\t\t_this.msg = response.data.msg\n\t\t\t\t\t\t// console.log(_this.msg)\n\t\t\t\t\t\talert(_this.msg)\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\n\t\t\t\t\t\t\t// console.log(2222);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t// console.log(sid);\n\t\t\t\t\t});\n\t\t\t\tthis.$forceUpdate()\n\t\t\t});\n\t\t},\n\t\thandleDelete(index, val) {\n\t\t\tthis.ids[0] = val.id;\n\t\t\tthis.delete();\n\t\t},\n\t\tupdataSave(index, val) {\n\t\t\t// console.log(index);\n\t\t\t// console.log(val);\n\t\t\t// console.log(val.visible);\n\t\t\t// val.visible = !val.visible;\n\n\t\t\t// console.log(this.tableData.data[index]);\n\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\n\t\t\tlet _this = this\n\t\t\tthis.myAxios.post('http://localhost:8888/shift/updateShift',\n\t\t\t\t\tqs.stringify(_this.basicUpdata))\n\t\t\t\t.then(function(response) {\n\t\t\t\t\t// console.log(\"1\")\n\t\t\t\t\t// console.log(_this.basicUpdata)\n\t\t\t\t\t// console.log(_this.basicUpdata.endTime)\n\t\t\t\t\t// console.log(response);\n\t\t\t\t\tif (response.data.code == \"1000\") {\n\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\n\t\t\t\t\t\t// console.log(2222);\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\t\t\tthis.$forceUpdate()\n\n\t\t},\n\t\tsearchShift() {\n\t\t\tconsole.log(this.queryShift);\n\t\t\tlet typei = 0;\n\t\t\tlet qurry = \"http://localhost:8888/shift/pageQuery?\" + \"pageNo=\" + this.current_page + \"&pageSize=\" + this\n\t\t\t\t.page_size;\n\t\t\tif (this.queryShift.startCity != \"\") {\n\t\t\t\tqurry += \"&startCity=\" + this.queryShift.startCity;\n\t\t\t\ttypei = 1;\n\t\t\t\tconsole.log(\"sb1\");\n\t\t\t}\n\t\t\tif (this.queryShift.endCity != \"\") {\n\t\t\t\tqurry += \"&arriveCity=\" + this.queryShift.endCity;\n\t\t\t\ttypei = 1;\n\t\t\t\tconsole.log(\"sb2\");\n\t\t\t}\n\t\t\tif (this.queryShift.startTime != \"\" && this.queryShift.startTime != undefined) {\n\t\t\t\tqurry += \"&startTime=\" + this.queryShift.startTime;\n\t\t\t\ttypei = 1;\n\t\t\t\tconsole.log(\"sb3\");\n\t\t\t}\n\t\t\tif (this.queryShift.endTime != \"\" && this.queryShift.endTime != undefined) {\n\t\t\t\tqurry += \"&arriveime=\" + this.queryShift.endTime;\n\t\t\t\ttypei = 1;\n\t\t\t\tconsole.log(\"sb4\");\n\t\t\t}\n\t\t\tconsole.log(this.queryShift.startCity);\n\t\t\tconsole.log(this.queryShift.endCity);\n\t\t\tconsole.log(this.queryShift.startTime);\n\t\t\tconsole.log(this.queryShift.endTime);\n\n\t\t\tconsole.log(\"typei=\" + typei);\n\t\t\tif (typei == 0) {\n\t\t\t\tthis.$alert(\"请输入查询条件\", {\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t});\n\t\t\t\ttypei = 0;\n\t\t\t}\n\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\n\t\t\t// 为给定 ID 的 user 创建请求\n\t\t\tthis.myAxios.get(qurry)\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tconsole.log(response);\n\t\t\t\t\tconsole.log(_this.page_size);\n\t\t\t\t\t_this.tableData = response.data.data;\n\t\t\t\t\t_this.totalCount = response.data.data.total;\n\t\t\t\t\tconsole.log(_this.totalCount)\n\t\t\t\t\tconsole.log(_this.tableData);\n\t\t\t\t\tif (_this.totalCount == 0) {\n\t\t\t\t\t\t_this.$alert(\"未查询到该班次\", {\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\t\ttype: 'warning',\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\t// if (response.data.code == \"1000\") {\n\t\t\t\t\t// \t_this.init(_this.current_page, _this.page_size);\n\t\t\t\t\t// \t// console.log(2222);\n\t\t\t\t\t// }\n\t\t\t\t\t// _this.onloads();\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t});\n\n\t\t\tthis.$forceUpdate()\n\t\t}\n\t},\n\tcreated() {\n\n\t\t// this.onloads();\n\t\tthis.init(this.current_page, this.page_size)\n\t}\n}\n",{"version":3,"sources":["Basic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Basic.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div style=\" height: 100%;\">\r\n\t\t<div class=\"top\">\r\n\t\t\t班次基础信息\r\n\t\t</div>\r\n\t\t<el-card>\r\n\t\t\t<div style=\"text-align: center;\">\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"出发城市\" v-model=\"queryShift.startCity\" style=\"width:120px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"到达城市\" v-model=\"queryShift.endCity\" style=\"width:120px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;\r\n\t\t\t\t<el-date-picker v-model=\"queryShift.startTime\" type=\"date\" placeholder=\"出发时间\" style=\"width: 200px\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\">\r\n\t\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t\t<el-date-picker v-model=\"queryShift.endTime\" type=\"date\" placeholder=\"到达时间\" style=\"width: 200px\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd\">\r\n\t\t\t\t</el-date-picker>&nbsp;\r\n\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchShift\">查询</el-button>\r\n\t\t\t\t<!-- </div>\r\n\t\t\t<div style=\"text-align: center;\"> -->\r\n\t\t\t\t<el-button @click=\"dialogVisible = true\">添加班次</el-button>\r\n\t\t\t\t</el-button>\r\n\t\t\t</div><br>\r\n\t\t\t<el-dialog title=\"添加渡轮班次\" :visible.sync=\"dialogVisible\" width=\"40%\" :before-close=\"handleClose\">\r\n\t\t\t\t请输入出发城市：\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"出发城市\" v-model=\"shift.startCity\" style=\"width:200px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t请输入到达城市：\r\n\t\t\t\t<el-input type=\"text\" placeholder=\"到达城市\" v-model=\"shift.endCity\" style=\"width:200px;\" clearable>\r\n\t\t\t\t</el-input>&nbsp;<br><br>\r\n\t\t\t\t请输入出发时间：\r\n\t\t\t\t<el-date-picker v-model=\"shift.startTime\" type=\"datetime\" placeholder=\"出发时间\" style=\"width: 200px\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\">\r\n\t\t\t\t</el-date-picker>&nbsp;<br><br>\r\n\t\t\t\t请输入到达时间：\r\n\t\t\t\t<el-date-picker v-model=\"shift.endTime\" type=\"datetime\" placeholder=\"到达时间\" style=\"width: 200px\"\r\n\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\">\r\n\t\t\t\t</el-date-picker>&nbsp;<br>\r\n\t\t\t\t<span slot=\"footer\" class=\"dialog-footer\" style=\"text-align: center;\">\r\n\t\t\t\t\t<el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"addShift\">确 定</el-button>\r\n\t\t\t\t</span>\r\n\t\t\t</el-dialog>\r\n\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData.data\" stripe :default-sort=\"{prop:'date',order:'descending'}\"\r\n\t\t\t\ttooltip-effect=\"dark\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\"\r\n\t\t\t\t:header-cell-style=\"{'text-align':'center'}\" :cell-style=\"{'text-align':'center'}\">\r\n\r\n\t\t\t\t<el-table-column fixed=\"left\" type=\"selection\" width=\"55\">\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column sortable label=\"班次\" width=\"90\" prop=\"sid\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.sid }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.sid\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startCity\" label=\"出发城市\" width=\"100px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.startCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.startCity\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endCity\" label=\"到达城市\" width=\"100px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.endCity }}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-input v-model=\"basicUpdata.arriveCity\" style=\"width: 80px;\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-input>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"startTime\" label=\"出发时间\" width=\"250px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.startTime | dateFormat('YYYY-MM-DD HH:mm:ss')}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-date-picker v-model=\"basicUpdata.startTime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n\t\t\t\t\t\t\tstyle=\"width: 85%;\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column prop=\"endTime\" label=\"到达时间\" width=\"250px\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<span v-if=\"!scope.row.visible\">\r\n\t\t\t\t\t\t\t{{ scope.row.endTime | dateFormat('YYYY-MM-DD HH:mm:ss')}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<el-date-picker v-model=\"basicUpdata.arriveTime\" type=\"datetime\" placeholder=\"选择日期时间\"\r\n\t\t\t\t\t\t\tstyle=\"width: 85%;\" value-format=\"yyyy-MM-dd HH:mm:ss\" v-if=\"scope.row.visible\">\r\n\t\t\t\t\t\t</el-date-picker>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t\t<el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t<el-button type=\"success\" v-if=\"scope.row.visible\" size=\"mini\"\r\n\t\t\t\t\t\t\t@click=\"updataSave(scope.$index, scope.row)\">确定</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" v-if=\"!scope.row.visible\" @click=\"handleEdit(scope.$index, scope.row)\">编辑\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click=\"delShift(scope.row.sid)\">删除</el-button>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</el-table-column>\r\n\t\t\t</el-table>\r\n\t\t\t<div style=\"margin-top: 20px;text-align: center;\">\r\n\t\t\t\t<el-button @click=\"toggleSelection()\">取消选择</el-button>\r\n\t\t\t\t<el-button type=\"warning\" @click=\"handleBatchDelete\">批量删除</el-button>\r\n\t\t\t</div>\r\n\t\t\t<div style=\"text-align: center;margin-top: 20px;\">\r\n\t\t\t\t<el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"\r\n\t\t\t\t\t:current-page=\"current_page\" :page-sizes=\"[8,9,10,11]\" :page-size.sync=\"page_size\"\r\n\t\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\" :total=\"totalCount\">\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport qs from 'qs';\r\n\texport default {\r\n\t\tname: \"dataList\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\ttableData1: [],\r\n\t\t\t\ttableData: [],\r\n\t\t\t\tmultipleSelection: [],\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\tcurrent_page_data: [],\r\n\t\t\t\tcurrent_page: 1,\r\n\t\t\t\tpage_size: 9,\r\n\t\t\t\tids: [],\r\n\t\t\t\tmsg: '',\r\n\t\t\t\ttotalCount: 1,\r\n\t\t\t\tbasicUpdata: {\r\n\t\t\t\t\tsid: \"\",\r\n\t\t\t\t\tstartCity: \"\",\r\n\t\t\t\t\tarriveCity: \"\",\r\n\t\t\t\t\tstartTime: \"\",\r\n\t\t\t\t\tarriveTime: \"\",\r\n\t\t\t\t},\r\n\t\t\t\tshift: {\r\n\t\t\t\t\tstartCity: \"\",\r\n\t\t\t\t\tendCity: \"\",\r\n\t\t\t\t\tstartTime: \"\",\r\n\t\t\t\t\tendTime: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tqueryShift: {\r\n\t\t\t\t\tstartCity: \"\",\r\n\t\t\t\t\tendCity: \"\",\r\n\t\t\t\t\tstartTime: \"\",\r\n\t\t\t\t\tendTime: \"\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinit(n1, n2) {\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t_this.current_page = n1,\r\n\t\t\t\t\t_this.page_size = n2,\r\n\t\t\t\t\tthis.myAxios.get(\"http://localhost:8888/shift/pageQuery?pageNo=\" + _this.current_page + \"&pageSize=\" +\r\n\t\t\t\t\t\t_this.page_size)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t// console.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < _this.tableData.data.length; i++) {\r\n\t\t\t\t\t\t\t_this.tableData.data[i].visible = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t},\r\n\t\t\thandleClose(done) {\r\n\t\t\t\tthis.$confirm('确认关闭？')\r\n\t\t\t\t\t.then(_ => {\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t\tthis.shift.endCity = \"\";\r\n\t\t\t\t\t\tthis.shift.startCity = \"\";\r\n\t\t\t\t\t\tthis.shift.startTime = \"\";\r\n\t\t\t\t\t\tthis.shift.endTime = \"\";\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(_ => {});\r\n\t\t\t},\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\t// 改变每页显示的条数 \r\n\t\t\t\tthis.page_size = val\r\n\t\t\t\t// 注意：在改变每页显示的条数时，要将页码显示到第一页\r\n\t\t\t\tthis.current_page = 1\r\n\t\t\t\t// console.log(this.page_size);\r\n\t\t\t\tthis.init(1, val)\r\n\t\t\t},\r\n\t\t\t// 显示第几页\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\t// 改变默认的页数\r\n\t\t\t\tthis.current_page = val;\r\n\t\t\t\tthis.init(this.current_page, this.page_size);\r\n\t\t\t},\r\n\t\t\ttoggleSelection(rows) {\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\trows.forEach(row => {\r\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tthis.multipleSelection = val;\r\n\t\t\t\tconsole.log(this.multipleSelection.tableData)\r\n\r\n\t\t\t},\r\n\t\t\tadd() {\r\n\t\t\t\tthis.visible = !this.visible;\r\n\r\n\t\t\t},\r\n\t\t\taddShift() {\r\n\t\t\t\tif (this.shift.endCity == \"\" ||\r\n\t\t\t\t\tthis.shift.startCity == \"\" ||\r\n\t\t\t\t\tthis.shift.startTime == \"\" ||\r\n\t\t\t\t\tthis.shift.endTime == \"\") {\r\n\t\t\t\t\tif (this.shift.endCity == \"\" &&\r\n\t\t\t\t\t\tthis.shift.startCity == \"\" &&\r\n\t\t\t\t\t\tthis.shift.startTime == \"\" &&\r\n\t\t\t\t\t\tthis.shift.endTime == \"\") {\r\n\t\t\t\t\t\tthis.$alert(\"添加数据为空\", \"提示\", {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$alert(\"请输入完整数据\", \"提示\", {\r\n\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (this.shift.endCity != \"\" &&\r\n\t\t\t\t\tthis.shift.startCity != \"\" &&\r\n\t\t\t\t\tthis.shift.startTime != \"\" &&\r\n\t\t\t\t\tthis.shift.endTime != \"\") {\r\n\t\t\t\t\t\tif(this.shift.startTime>this.shift.endTime){\r\n\t\t\t\t\t\t\tthis.$alert(\"到达时间应晚于出发时间\", \"提示\", {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet _this = this\r\n\t\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/addShift',\r\n\t\t\t\t\t\t\tqs.stringify(_this.shift))\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tif (response.data == \"success\") {\r\n\t\t\t\t\t\t\t\t_this.init();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t\t_this.$alert(\"添加成功\", \"提示\", {\r\n\t\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t_this.shift.endCity = \"\";\r\n\t\t\t\t\t\t\t\t_this.shift.startCity = \"\";\r\n\t\t\t\t\t\t\t\t_this.shift.startTime = \"\";\r\n\t\t\t\t\t\t\t\t_this.shift.endTime = \"\";\r\n\t\t\t\t\t\t\t\t_this.dialogVisible = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\thandleEdit(index, val) {\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\t// console.log(val);\r\n\t\t\t\t// console.log(val.visible);\r\n\t\t\t\t// val.visible = !val.visible;\r\n\r\n\t\t\t\t// console.log(this.tableData.data[index]);\r\n\t\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\r\n\t\t\t\tthis.basicUpdata.sid = this.tableData.data[index].sid\r\n\t\t\t\tthis.basicUpdata.startCity = this.tableData.data[index].startCity\r\n\t\t\t\tthis.basicUpdata.arriveCity = this.tableData.data[index].endCity\r\n\t\t\t\tthis.basicUpdata.startTime = this.tableData.data[index].startTime\r\n\t\t\t\tthis.basicUpdata.arriveTime = this.tableData.data[index].endTime\r\n\t\t\t\t// console.log(this.basicUpdata);\r\n\t\t\t\tthis.$forceUpdate()\r\n\r\n\t\t\t},\r\n\t\t\thandleBatchDelete() {\r\n\t\t\t\tif (this.multipleSelection.length) {\r\n\t\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\r\n\t\t\t\t\t\tthis.ids[i] = this.multipleSelection[i].sid;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$alert(\"请选择数据\", \"提示\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tfor (let i = 0; i < this.multipleSelection.length; i++) {\r\n\t\t\t\t\tconsole.log(this.ids[i]);\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\t// console.log(sid)\r\n\t\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + this.ids[i])\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t\t_this.msg = response.data.msg\r\n\t\t\t\t\t\t\t// console.log(_this.msg)\r\n\t\t\t\t\t\t\talert(_this.msg)\r\n\t\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelShift(sid) {\r\n\t\t\t\tthis.$confirm('是否删除班次为' + sid + \"的航班\", '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\t// console.log(sid)\r\n\t\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/deleteShift?sid=' + sid)\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t\t_this.msg = response.data.msg\r\n\t\t\t\t\t\t\t// console.log(_this.msg)\r\n\t\t\t\t\t\t\talert(_this.msg)\r\n\t\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t\t// console.log(sid);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleDelete(index, val) {\r\n\t\t\t\tthis.ids[0] = val.id;\r\n\t\t\t\tthis.delete();\r\n\t\t\t},\r\n\t\t\tupdataSave(index, val) {\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\t// console.log(val);\r\n\t\t\t\t// console.log(val.visible);\r\n\t\t\t\t// val.visible = !val.visible;\r\n\r\n\t\t\t\t// console.log(this.tableData.data[index]);\r\n\t\t\t\tthis.tableData.data[index].visible = !this.tableData.data[index].visible\r\n\t\t\t\tlet _this = this\r\n\t\t\t\tthis.myAxios.post('http://localhost:8888/shift/updateShift',\r\n\t\t\t\t\t\tqs.stringify(_this.basicUpdata))\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t// console.log(\"1\")\r\n\t\t\t\t\t\t// console.log(_this.basicUpdata)\r\n\t\t\t\t\t\t// console.log(_this.basicUpdata.endTime)\r\n\t\t\t\t\t\t// console.log(response);\r\n\t\t\t\t\t\tif (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t\t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t\t// console.log(2222);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.$forceUpdate()\r\n\r\n\t\t\t},\r\n\t\t\tsearchShift() {\r\n\t\t\t\tconsole.log(this.queryShift);\r\n\t\t\t\tlet typei = 0;\r\n\t\t\t\tlet qurry = \"http://localhost:8888/shift/pageQuery?\" + \"pageNo=\" + this.current_page + \"&pageSize=\" + this\r\n\t\t\t\t\t.page_size;\r\n\t\t\t\tif (this.queryShift.startCity != \"\") {\r\n\t\t\t\t\tqurry += \"&startCity=\" + this.queryShift.startCity;\r\n\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\tconsole.log(\"sb1\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.queryShift.endCity != \"\") {\r\n\t\t\t\t\tqurry += \"&arriveCity=\" + this.queryShift.endCity;\r\n\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\tconsole.log(\"sb2\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.queryShift.startTime != \"\" && this.queryShift.startTime != undefined) {\r\n\t\t\t\t\tqurry += \"&startTime=\" + this.queryShift.startTime;\r\n\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\tconsole.log(\"sb3\");\r\n\t\t\t\t}\r\n\t\t\t\tif (this.queryShift.endTime != \"\" && this.queryShift.endTime != undefined) {\r\n\t\t\t\t\tqurry += \"&arriveime=\" + this.queryShift.endTime;\r\n\t\t\t\t\ttypei = 1;\r\n\t\t\t\t\tconsole.log(\"sb4\");\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.queryShift.startCity);\r\n\t\t\t\tconsole.log(this.queryShift.endCity);\r\n\t\t\t\tconsole.log(this.queryShift.startTime);\r\n\t\t\t\tconsole.log(this.queryShift.endTime);\r\n\r\n\t\t\t\tconsole.log(\"typei=\" + typei);\r\n\t\t\t\tif (typei == 0) {\r\n\t\t\t\t\tthis.$alert(\"请输入查询条件\", {\r\n\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttypei = 0;\r\n\t\t\t\t}\r\n\t\t\t\tlet _this = this; //把vue对象 先保存到第三方变量中\r\n\t\t\t\t// 为给定 ID 的 user 创建请求\r\n\t\t\t\tthis.myAxios.get(qurry)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tconsole.log(_this.page_size);\r\n\t\t\t\t\t\t_this.tableData = response.data.data;\r\n\t\t\t\t\t\t_this.totalCount = response.data.data.total;\r\n\t\t\t\t\t\tconsole.log(_this.totalCount)\r\n\t\t\t\t\t\tconsole.log(_this.tableData);\r\n\t\t\t\t\t\tif (_this.totalCount == 0) {\r\n\t\t\t\t\t\t\t_this.$alert(\"未查询到该班次\", {\r\n\t\t\t\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// if (response.data.code == \"1000\") {\r\n\t\t\t\t\t\t// \t_this.init(_this.current_page, _this.page_size);\r\n\t\t\t\t\t\t// \t// console.log(2222);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// _this.onloads();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\r\n\t\t\t// this.onloads();\r\n\t\t\tthis.init(this.current_page, this.page_size)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.top {\r\n\t\t/* margin-top: 10px; */\r\n\t\tmargin: auto;\r\n\t\tfont-size: 34px;\r\n\t\tcolor: rgb(154, 217, 217);\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t\theight: 50px;\r\n\t\t/* background-color: rgb(253, 255, 254); */\r\n\t}\r\n</style>\n"]}]}